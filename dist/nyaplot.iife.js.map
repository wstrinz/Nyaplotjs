{"version":3,"file":"nyaplot.iife.js","sources":["../es6/core/manager.js","../es6/view/components/legend/simple_legend.js","../es6/view/diagrams/bar.js","../es6/view/components/filter.js","../es6/view/diagrams/histogram.js","../es6/view/diagrams/scatter.js","../es6/view/diagrams/line.js","../es6/utils/simplex.js","../es6/view/diagrams/venn.js","../es6/view/diagrams/multiple_venn.js","../es6/view/diagrams/box.js","../es6/view/components/legend/color_bar.js","../es6/utils/color.js","../es6/view/diagrams/heatmap.js","../es6/view/diagrams/vectors.js","../es6/view/diagrams/diagrams.js","../es6/view/components/legend_area.js","../es6/utils/ua_info.js","../es6/view/components/tooltip.js","../es6/view/pane.js","../es6/view/components/axis.js","../es6/view/components/scale.js","../es6/core/stl.js","../es6/core/extension.js","../es6/utils/dataframe.js","../es6/core/parse.js","../es6/main.js"],"sourcesContent":["/*\n * Manager:\n *\n * Manager is the overall frame manager that holds plots and datasources (DataFrame).\n *\n */\n\nimport _ from \"underscore\";\nvar Manager = {\n    data_frames: {},\n    panes: []\n};\n\n// add a data source (DataFrame) by name\nManager.addData = function(name, df) {\n    var entry = {};\n    entry[name] = df;\n    _.extend(this.data_frames, entry);\n};\n\n// Fetch a data source by name\nManager.getData = function(name) {\n    return this.data_frames[name];\n};\n\n// Add a pane to the manager\nManager.addPane = function(pane) {\n    this.panes.push(pane);\n};\n\n// Update and redraw the panes\nManager.update = function(uuid) {\n    if (arguments.length > 0) {\n        var entries = _.filter(this.panes, function(entry) {\n            return entry.uuid == uuid;\n        });\n        _.each(entries, function(entry) {\n            entry.pane.update();\n        });\n    } else {\n        _.each(this.panes, function(entry) {\n            entry.pane.update();\n        });\n    }\n};\n\nexport default Manager;\n","/*\n * SimpleLegend: The simplest legend objects\n *\n * SimpleLegend provides legend consists of simple circle buttons and labels.\n *\n * options(summary)\n *    title_height -> Float : height of title text.\n *    mode         -> String: 'normal' and 'radio' are allowed.\n *\n * example:\n *    http://bl.ocks.org/domitry/e9a914b78f3a576ed3bb\n */\n\nimport _ from 'underscore';\nimport Manager from '../../../core/manager';\n\nfunction SimpleLegend(data, _options) {\n    var options = {\n        title: '',\n        width: 150,\n        height: 22,\n        title_height: 15,\n        mode: 'normal'\n    };\n    if (arguments.length > 1) _.extend(options, _options);\n\n    this.model = d3.select(document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\"));\n    this.options = options;\n    this.data = data;\n\n    return this;\n}\n\nSimpleLegend.prototype.width = function() {\n    return this.options.width;\n};\n\nSimpleLegend.prototype.height = function() {\n    return this.options.height * (this.data.length);\n};\n\n// Create dom object independent form pane or context and return it. called by each diagram.o\nSimpleLegend.prototype.getDomObject = function() {\n    var model = this.model;\n    var options = this.options;\n\n    model.append(\"text\")\n        .attr(\"x\", 12)\n        .attr(\"y\", options.height)\n        .attr(\"font-size\", \"14\")\n        .text(options.title);\n\n    var entries = this.model.selectAll(\"g\")\n        .data(this.data)\n        .enter()\n        .append(\"g\");\n\n    var circle = entries\n        .append(\"circle\")\n        .attr(\"cx\", \"8\")\n        .attr(\"cy\", function(d, i) {\n            return options.height * (i + 1);\n        })\n        .attr(\"r\", \"6\")\n        .attr(\"stroke\", function(d) {\n            return d.color;\n        })\n        .attr(\"stroke-width\", \"2\")\n        .attr(\"fill\", function(d) {\n            return d.color;\n        })\n        .attr(\"fill-opacity\", function(d) {\n            return (d.mode == 'off' ? 0 : 1);\n        });\n\n    switch (options.mode) {\n        case 'normal':\n            circle\n                .on(\"click\", function(d) {\n                    if (!(!d['on'] && !d['off'])) {\n                        var el = d3.select(this);\n                        if (el.attr(\"fill-opacity\") == 1) {\n                            el.attr(\"fill-opacity\", 0);\n                            d.off();\n                        } else {\n                            el.attr(\"fill-opacity\", 1);\n                            d.on();\n                        };\n                    }\n                });\n            break;\n        case 'radio':\n            circle.on(\"click\", function(d) {\n                var el = d3.select(this);\n                if (el.attr(\"fill-opacity\") == 0) {\n                    var thisObj = this;\n                    circle.filter(function(d) {\n                            return (this != thisObj && !(!d['on'] && !d['off']));\n                        })\n                        .attr(\"fill-opacity\", 0);\n                    el.attr(\"fill-opacity\", 1);\n                    d.on();\n                }\n            });\n            break;\n    }\n\n    circle.style(\"cursor\", function(d) {\n        if (d['on'] == undefined && d['off'] == undefined) return \"default\";\n        else return \"pointer\";\n    });\n\n    entries.append(\"text\")\n        .attr(\"x\", \"18\")\n        .attr(\"y\", function(d, i) {\n            return options.height * (i + 1) + 4;\n        })\n        .attr(\"font-size\", \"12\")\n        .text(function(d) {\n            return d.label;\n        });\n\n    return model;\n};\n\nexport default SimpleLegend;\n","/*\n * Bar chart\n *\n * This diagram has two mode, ordinal-mode and count-mode. The former creates bar from x and y column.\n * The latter counts unique value in 'value' column and generates bar from the result.\n *\n *\n * options:\n *    value   -> String: column name. set when you'd like to build bar chart based on one-dimention data\n *    x, y    -> String: column name. x should be discrete. y should be continuous.\n *    width   -> Float : 0..1, width of each bar.\n *    color   -> Array : color in which bars filled.\n *    hover   -> Bool  : set whether pop-up tool-tips when bars are hovered.\n *    tooltip -> Object: instance of Tooltip. set by pane.\n *\n * example:\n *    specified 'value' option : http://bl.ocks.org/domitry/b8785f02f36deef567ce\n *    specified 'x' and 'y' : http://bl.ocks.org/domitry/2f53781449025f772676\n */\n\nimport _ from 'underscore';\nimport uuid from 'node-uuid';\nimport Manager from '../../core/manager';\nimport SimpleLegend from '../components/legend/simple_legend';\n\nfunction Bar(parent, scales, df_id, _options) {\n    var options = {\n        value: null,\n        x: null,\n        y: null,\n        width: 0.9,\n        color: null,\n        hover: true,\n        tooltip_contents: null,\n        tooltip: null,\n        legend: true\n    };\n    if (arguments.length > 3) _.extend(options, _options);\n\n    var df = Manager.getData(df_id);\n\n    var color_scale;\n    if (options.color == null) color_scale = d3.scale.category20b();\n    else color_scale = d3.scale.ordinal().range(options.color);\n    this.color_scale = color_scale;\n\n    var model = parent.append(\"g\");\n\n    var legend_data = [],\n        labels;\n\n    if (options.value != null) {\n        var column_value = df.column(options.value);\n        labels = _.uniq(column_value);\n    } else\n        labels = df.column(options.x);\n\n    _.each(labels, function(label) {\n        legend_data.push({\n            label: label,\n            color: color_scale(label)\n        });\n    });\n\n    this.model = model;\n    this.scales = scales;\n    this.options = options;\n    this.legend_data = legend_data;\n    this.df = df;\n    this.df_id = df_id;\n    this.uuid = options.uuid;\n\n    return this;\n}\n\n// fetch data and update dom object. called by pane which this chart belongs to.\nBar.prototype.update = function() {\n    var data;\n    if (this.options.value !== null) {\n        var column_value = this.df.columnWithFilters(this.uuid, this.options.value);\n        var raw = this.countData(column_value);\n        data = this.processData(raw.x, raw.y, this.options);\n    } else {\n        var column_x = this.df.columnWithFilters(this.uuid, this.options.x);\n        var column_y = this.df.columnWithFilters(this.uuid, this.options.y);\n        data = this.processData(column_x, column_y, this.options);\n    }\n\n    var rects = this.model.selectAll(\"rect\").data(data);\n    rects.enter().append(\"rect\")\n        .attr(\"height\", 0)\n        .attr(\"y\", this.scales.get(0, 0).y);\n\n    this.updateModels(rects, this.scales, this.options);\n};\n\n// process data as:\n//     x: [1,2,3,...], y: [4,5,6,...] -> [{x: 1, y: 4},{x: 2, y: 5},...]\nBar.prototype.processData = function(x, y, options) {\n    return _.map(_.zip(x, y), function(d, i) {\n        return {\n            x: d[0],\n            y: d[1]\n        };\n    });\n};\n\n// update dom object\nBar.prototype.updateModels = function(selector, scales, options) {\n    var color_scale = this.color_scale;\n\n    var onMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", function(d) {\n                return d3.rgb(color_scale(d.x)).darker(1);\n            });\n        var id = d3.select(this).attr(\"id\");\n        options.tooltip.addToYAxis(id, this.__data__.y);\n        options.tooltip.update();\n    };\n\n    var outMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", function(d) {\n                return color_scale(d.x);\n            });\n        var id = d3.select(this).attr(\"id\");\n        options.tooltip.reset();\n    };\n\n    var width = scales.raw.x.rangeBand() * options.width;\n    var padding = scales.raw.x.rangeBand() * ((1 - options.width) / 2);\n\n    selector\n        .attr(\"x\", function(d) {\n            return scales.get(d.x, d.y).x + padding;\n        })\n        .attr(\"width\", width)\n        .attr(\"fill\", function(d) {\n            return color_scale(d.x);\n        })\n        .transition().duration(200)\n        .attr(\"y\", function(d) {\n            return scales.get(d.x, d.y).y;\n        })\n        .attr(\"height\", function(d) {\n            return scales.get(0, 0).y - scales.get(0, d.y).y;\n        })\n        .attr(\"id\", uuid.v4());\n\n    if (options.hover) selector\n        .on(\"mouseover\", onMouse)\n        .on(\"mouseout\", outMouse);\n};\n\n// return legend object based on data prepared by initializer\nBar.prototype.getLegend = function() {\n    var legend = new SimpleLegend((this.options.legend ? this.legend_data : {}));\n    return legend;\n};\n\n// count unique value. called when 'value' option was specified insead of 'x' and 'y'\nBar.prototype.countData = function(values) {\n    var hash = {};\n    _.each(values, function(val) {\n        hash[val] = hash[val] || 0;\n        hash[val] += 1;\n    });\n    return {\n        x: _.keys(hash),\n        y: _.values(hash)\n    };\n};\n\n// not implemented yet.\nBar.prototype.checkSelectedData = function(ranges) {\n    return;\n};\n\nexport default Bar;\n","/*\n * Filter:\n *\n * Filtering data according to box on context area. Filter is implemented using d3.svg.brush().\n * See the website of d3.js to learn more: https://github.com/mbostock/d3/wiki/SVG-Controls\n *\n * options (summary) :\n *    opacity -> Float : Opacity of filtering area\n *    color   -> String: Color of filtering area\n *\n * example :\n *    http://bl.ocks.org/domitry/b8785f02f36deef567ce\n */\n\nimport _ from 'underscore';\nimport Manager from '../../core/manager';\n\nfunction Filter(parent, scales, callback, _options) {\n    var options = {\n        opacity: 0.125,\n        color: 'gray'\n    };\n    if (arguments.length > 2) _.extend(options, _options);\n\n    var brushed = function() {\n        var ranges = {\n            x: (brush.empty() ? scales.domain().x : brush.extent()),\n            y: scales.domain().y\n        };\n        callback(ranges);\n    };\n\n    var brush = d3.svg.brush()\n        .x(scales.raw.x)\n        .on(\"brushend\", brushed);\n\n    var model = parent.append(\"g\");\n    var height = d3.max(scales.range().y) - d3.min(scales.range().y);\n    var y = d3.min(scales.range().y);\n\n    model.call(brush)\n        .selectAll(\"rect\")\n        .attr(\"y\", y)\n        .attr(\"height\", height)\n        .style(\"fill-opacity\", options.opacity)\n        .style(\"fill\", options.color)\n        .style(\"shape-rendering\", \"crispEdges\");\n\n    return this;\n}\n\nexport default Filter;\n","/*\n * Histogram: Histogram\n *\n * Caluculate hights of each bar from column specified by 'value' option and create histogram.\n * See the page of 'd3.layout.histogram' on d3.js's website to learn more. (https://github.com/mbostock/d3/wiki/Histogram-Layout)\n *\n *\n * options:\n *    value        -> String: column name. Build histogram based on this data.\n *    bin_num      -> Float : number of bin\n *    width        -> Float : 0..1, width of each bar.\n *    color        -> Array : color in which bars filled.\n *    stroke_color -> String: stroke color\n *    stroke_width -> Float : stroke width\n *    hover        -> Bool  : set whether pop-up tool-tips when bars are hovered.\n *    tooltip      -> Object: instance of Tooltip. set by pane.\n *\n * example:\n *    http://bl.ocks.org/domitry/f0e3f5c91cb83d8d715e\n */\n\nimport _ from 'underscore';\nimport uuid from 'node-uuid';\nimport Manager from '../../core/manager';\nimport Filter from '../components/filter';\nimport SimpleLegend from '../components/legend/simple_legend';\n\nfunction Histogram(parent, scales, df_id, _options) {\n    var options = {\n        title: 'histogram',\n        value: null,\n        bin_num: 20,\n        width: 0.9,\n        color: 'steelblue',\n        stroke_color: 'black',\n        stroke_width: 1,\n        hover: true,\n        tooltip: null,\n        legend: true\n    };\n    if (arguments.length > 3) _.extend(options, _options);\n\n    var df = Manager.getData(df_id);\n    var model = parent.append(\"g\");\n\n    this.scales = scales;\n    this.legends = [{\n        label: options.title,\n        color: options.color\n    }];\n    this.options = options;\n    this.model = model;\n    this.df = df;\n    this.uuid = options.uuid;\n\n    return this;\n}\n\n// fetch data and update dom object. called by pane which this chart belongs to.\nHistogram.prototype.update = function() {\n    var column_value = this.df.columnWithFilters(this.uuid, this.options.value);\n    var data = this.processData(column_value, this.options);\n\n    var models = this.model.selectAll(\"rect\").data(data);\n    models.enter().append(\"rect\").attr(\"height\", 0).attr(\"y\", this.scales.get(0, 0).y);\n    this.updateModels(models, this.scales, this.options);\n};\n\n// pre-process data using function embeded in d3.js.\nHistogram.prototype.processData = function(column, options) {\n    return d3.layout.histogram()\n        .bins(this.scales.raw.x.ticks(options.bin_num))(column);\n};\n\n// update SVG dom nodes based on pre-processed data.\nHistogram.prototype.updateModels = function(selector, scales, options) {\n    var onMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", d3.rgb(options.color).darker(1));\n        var id = d3.select(this).attr(\"id\");\n        options.tooltip.addToYAxis(id, this.__data__.y, 3);\n        options.tooltip.update();\n    };\n\n    var outMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", options.color);\n        var id = d3.select(this).attr(\"id\");\n        options.tooltip.reset();\n    };\n\n    selector\n        .attr(\"x\", function(d) {\n            return scales.get(d.x, 0).x;\n        })\n        .attr(\"width\", function(d) {\n            return scales.get(d.dx, 0).x - scales.get(0, 0).x;\n        })\n        .attr(\"fill\", options.color)\n        .attr(\"stroke\", options.stroke_color)\n        .attr(\"stroke-width\", options.stroke_width)\n        .transition().duration(200)\n        .attr(\"y\", function(d) {\n            return scales.get(0, d.y).y;\n        })\n        .attr(\"height\", function(d) {\n            return scales.get(0, 0).y - scales.get(0, d.y).y;\n        })\n        .attr(\"id\", uuid.v4());\n\n    if (options.hover) selector\n        .on(\"mouseover\", onMouse)\n        .on(\"mouseout\", outMouse);\n};\n\n// return legend object.\nHistogram.prototype.getLegend = function() {\n    var legend = new SimpleLegend((this.options.legend ? this.legend_data : {}));\n    return legend;\n};\n\n// answer to callback coming from filter.\nHistogram.prototype.checkSelectedData = function(ranges) {\n    var label_value = this.options.value;\n    var filter = function(row) {\n        var val = row[label_value];\n        if (val > ranges.x[0] && val < ranges.x[1]) return true;\n        else return false;\n    };\n    this.df.addFilter(this.uuid, filter, ['self']);\n    Manager.update();\n};\n\nexport default Histogram;\n","/*\n * Scatter: Scatter and Bubble chart\n *\n * Scatter chart. This can create bubble chart when specified 'size_by' option.\n * Tooltip, fill_by, size_by options should be implemented to other charts refering to this chart.\n *\n *\n * options:\n *    x,y             -> String: column name. both of continuous and descrete data are allowed.\n *    fill_by         -> String: column name. Fill vectors according to this column. (c/d are allowd.)\n *    shape_by        -> String: column name. Fill vectors according to this column. (d is allowd.)\n *    size_by         -> String: column name. Fill vectors according to this column. (c/d are allowd.)\n *    color           -> Array : Array of String.\n *    shape           -> Array : Array of String.\n *    size            -> Array : Array of Float. specified when creating bubble chart.\n *    stroke_color    -> String: stroke color.\n *    stroke_width    -> Float : stroke width.\n *    hover           -> Bool  : set whether pop-up tool-tips when bars are hovered.\n *    tooltip-contents-> Array : Array of column name. Used to create tooltip on points when hovering them.\n *    tooltip         -> Object: instance of Tooltip. set by pane.\n *\n * example:\n *    http://bl.ocks.org/domitry/78e2a3300f2f27e18cc8\n *    http://bl.ocks.org/domitry/308e27d8d12c1374e61f\n */\n\nimport _ from 'underscore';\nimport uuid from 'node-uuid';\nimport Manager from '../../core/manager';\nimport Filter from '../components/filter';\nimport SimpleLegend from '../components/legend/simple_legend';\n\nfunction Scatter(parent, scales, df_id, _options) {\n    var options = {\n        title: 'scatter',\n        x: null,\n        y: null,\n        fill_by: null,\n        shape_by: null,\n        size_by: null,\n        color: ['#4682B4', '#000000'],\n        shape: ['circle', 'triangle-up', 'diamond', 'square', 'triangle-down', 'cross'],\n        size: [100, 1000],\n        stroke_color: 'black',\n        stroke_width: 1,\n        hover: true,\n        tooltip_contents: [],\n        tooltip: null,\n        legend: true\n    };\n    if (arguments.length > 3) _.extend(options, _options);\n\n    this.scales = scales;\n    var df = Manager.getData(df_id);\n    var model = parent.append(\"g\");\n\n    this.legend_data = (function(thisObj) {\n        var on = function() {\n            thisObj.render = true;\n            thisObj.update();\n        };\n\n        var off = function() {\n            thisObj.render = false;\n            thisObj.update();\n        };\n        return [{\n            label: options.title,\n            color: options.color,\n            on: on,\n            off: off\n        }];\n    })(this);\n\n    this.render = true;\n    this.options = options;\n    this.model = model;\n    this.df = df;\n    this.uuid = options.uuid;\n\n    return this;\n}\n\n// fetch data and update dom object. called by pane which this chart belongs to.\nScatter.prototype.update = function() {\n    var data = this.processData(this.options);\n    this.options.tooltip.reset();\n    if (this.render) {\n        var shapes = this.model.selectAll(\"path\").data(data);\n        shapes.enter().append(\"path\");\n        this.updateModels(shapes, this.scales, this.options);\n    } else {\n        this.model.selectAll(\"path\").remove();\n    }\n};\n\n// pre-process data like: [{x: 1, y: 2, fill: '#000', size: 20, shape: 'triangle-up'}, {},...,{}]\nScatter.prototype.processData = function(options) {\n    var df = this.df;\n    var labels = ['x', 'y', 'fill', 'size', 'shape'];\n    var columns = _.map(['x', 'y'], function(label) {\n        return df.column(options[label]);\n    });\n    var length = columns[0].length;\n\n    _.each([{\n        column: 'fill_by',\n        val: 'color'\n    }, {\n        column: 'size_by',\n        val: 'size'\n    }, {\n        column: 'shape_by',\n        val: 'shape'\n    }], function(info) {\n        if (options[info.column]) {\n            var scale = df.scale(options[info.column], options[info.val]);\n            columns.push(_.map(df.column(options[info.column]), function(val) {\n                return scale(val);\n            }));\n        } else {\n            columns.push(_.map(_.range(1, length + 1, 1), function(d) {\n                if (_.isArray(options[info.val])) return options[info.val][0];\n                else return options[info.val];\n            }));\n        }\n    });\n    /*\n            this.optional_scales = _.reduce([{column: 'fill_by', val: 'color'}, {column: 'size_by', val: 'size'}, {column: 'shape_by', val: 'shape'}], function(memo, info){\n                if(options[info.column]){\n                    var scale = df.scale(options[info.column], options[info.val]);\n                    columns.push(_.map(df.column(options[info.column]), function(val){return scale(val);}));\n                    memo[info.val] = scale;\n                }else{\n                    columns.push(_.map(_.range(1, length+1, 1), function(d){\n                        if(_.isArray(options[info.val]))return options[info.val][0];\n                        else return options[info.val];\n                    }));\n                    memo[info.val] = d3.scale.ordinal().range(columns.last[0]);\n                }\n            }, {});*/\n\n    if (options.tooltip_contents.length > 0) {\n        var tt_arr = df.getPartialDf(options.tooltip_contents);\n        labels.push('tt');\n        columns.push(tt_arr);\n    }\n\n    return _.map(_.zip.apply(null, columns), function(d) {\n        return _.reduce(d, function(memo, val, i) {\n            memo[labels[i]] = val;\n            return memo;\n        }, {});\n    });\n};\n\n// update SVG dom nodes based on pre-processed data.\nScatter.prototype.updateModels = function(selector, scales, options) {\n    var id = this.uuid;\n\n    var onMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", function(d) {\n                return d3.rgb(d.fill).darker(1);\n            });\n        options.tooltip.addToXAxis(id, this.__data__.x, 3);\n        options.tooltip.addToYAxis(id, this.__data__.y, 3);\n        if (options.tooltip_contents.length > 0) {\n            options.tooltip.add(id, this.__data__.x, this.__data__.y, 'top', this.__data__.tt);\n        }\n        options.tooltip.update();\n    };\n\n    var outMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", function(d) {\n                return d.fill;\n            });\n        options.tooltip.reset();\n    };\n\n    selector\n        .attr(\"transform\", function(d) {\n            return \"translate(\" + scales.get(d.x, d.y).x + \",\" + scales.get(d.x, d.y).y + \")\";\n        })\n        .attr(\"fill\", function(d) {\n            return d.fill;\n        })\n        .attr(\"stroke\", options.stroke_color)\n        .attr(\"stroke-width\", options.stroke_width)\n        .transition().duration(200)\n        .attr(\"d\", d3.svg.symbol().type(function(d) {\n            return d.shape;\n        }).size(function(d) {\n            return d.size;\n        }));\n\n    if (options.hover) selector\n        .on(\"mouseover\", onMouse)\n        .on(\"mouseout\", outMouse);\n};\n\n// return legend object.\nScatter.prototype.getLegend = function() {\n    /*\n    var opt_data = this.optional_scales, color='';\n    var defaults = _.map([{name: 'color', default: '#fff'}, {name: 'shape', default: 'shape'}, {name: 'size', default: 30}], function(info){\n        if(opt_data[info.name].range().length == 1)return opt_data[info.name].range()[0];\n        else return info.default;\n    });\n    // color\n    switch(opt_data['color'].range().length){\n\n    }\n\n    // size\n    */\n\n    var legend = new SimpleLegend((this.options.legend ? this.legend_data : {}));\n    return legend;\n};\n\n// answer to callback coming from filter.\nScatter.prototype.checkSelectedData = function(ranges) {\n    return;\n};\n\nexport default Scatter;\n","/*\n * Line: Line chart\n *\n * Attention: 'Line' is totally designed to be used to visualize line chart for Mathematics. So it is not useful to visualize statistical data like stock price.\n * If you feel so, feel free to add options like 'shape', 'shape_by' and 'fill_by' to this chart and send pull-request.\n * Please be sure to refer to the code of other chart like scatter at that time.\n *\n *\n * options:\n *    title        -> String: title of this chart showen on legend\n *    x,y          -> String: column name.\n *    color        -> Array : color in which line is filled.\n *    stroke_width -> Float : stroke width.\n *\n * example:\n *    http://bl.ocks.org/domitry/e9a914b78f3a576ed3bb\n */\n\nimport _ from 'underscore';\nimport Manager from '../../core/manager';\nimport Filter from '../components/filter';\nimport SimpleLegend from '../components/legend/simple_legend';\n\nfunction Line(parent, scales, df_id, _options) {\n    var options = {\n        title: 'line',\n        x: null,\n        y: null,\n        color: 'steelblue',\n        fill_by: null,\n        stroke_width: 2,\n        legend: true\n    };\n    if (arguments.length > 3) _.extend(options, _options);\n\n    this.scales = scales;\n    var df = Manager.getData(df_id);\n    var model = parent.append(\"g\");\n\n    this.legend_data = (function(thisObj) {\n        var on = function() {\n            thisObj.render = true;\n            thisObj.update();\n        };\n\n        var off = function() {\n            thisObj.render = false;\n            thisObj.update();\n        };\n        return [{\n            label: options.title,\n            color: options.color,\n            on: on,\n            off: off\n        }];\n    })(this);\n\n    this.render = true;\n    this.options = options;\n    this.model = model;\n    this.df = df;\n    this.df_id = df_id;\n\n    return this;\n}\n\n// fetch data and update dom object. called by pane which this chart belongs to.\nLine.prototype.update = function() {\n    if (this.render) {\n        var data = this.processData(this.df.column(this.options.x), this.df.column(this.options.y), this.options);\n        this.model.selectAll(\"path\").remove();\n        var path = this.model\n            .append(\"path\")\n            .datum(data);\n\n        this.updateModels(path, this.scales, this.options);\n    } else {\n        this.model.selectAll(\"path\").remove();\n    }\n};\n\n// pre-process data like: x: [1,3,..,3], y: [2,3,..,4] -> [{x: 1, y: 2}, ... ,{}]\nLine.prototype.processData = function(x_arr, y_arr, options) {\n    var df = this.df,\n        length = x_arr.length;\n    /*\n    var color_arr = (function(column, colors){\n        if(options['fill_by']){\n            var scale = df.scale(options[column], options[colors]);\n            return _.map(df.column(options[column]), function(val){return scale(val);});\n        }else{\n            return _.map(_.range(1, length+1, 1), function(d){\n                if(_.isArray(options[colors]))return options[colors][0];\n                else return options[colors];\n            });\n        }\n    })('fill_by', 'color');*/\n    return _.map(_.zip(x_arr, y_arr), function(d) {\n        return {\n            x: d[0],\n            y: d[1]\n        };\n    });\n};\n\n// update SVG dom nodes based on pre-processed data.\nLine.prototype.updateModels = function(selector, scales, options) {\n    var onMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", d3.rgb(options.color).darker(1));\n    };\n\n    var outMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", options.color);\n    };\n\n    var line = d3.svg.line()\n        .x(function(d) {\n            return scales.get(d.x, d.y).x;\n        })\n        .y(function(d) {\n            return scales.get(d.x, d.y).y;\n        });\n\n    selector\n        .attr(\"d\", line)\n        .attr(\"stroke\", options.color)\n        .attr(\"stroke-width\", options.stroke_width)\n        .attr(\"fill\", \"none\");\n};\n\n// return legend object.\nLine.prototype.getLegend = function() {\n    var legend = new SimpleLegend((this.options.legend ? this.legend_data : []));\n    return legend;\n};\n\n// answer to callback coming from filter.\nLine.prototype.checkSelectedData = function(ranges) {\n    return;\n};\n\nexport default Line;\n","/*\n * Simplex:\n *\n * Implementation of downhill simplex method.\n * See Wikipedia: http://en.wikipedia.org/wiki/Nelder%E2%80%93Mead_method\n */\n\n\nimport _ from 'underscore';\nvar l_1 = 0.7,\n    l_2 = 1.5;\nvar EPS = 1.0e-20;\nvar count = 0,\n    COUNT_LIMIT = 2000;\n\nfunction calcCenter(vector) {\n    var center = [];\n    _.each(_.zip.apply(null, vector), function(arr, i) {\n        center[i] = 0;\n        _.each(arr, function(val) {\n            center[i] += val;\n        });\n        center[i] = center[i] / arr.length;\n    });\n    return center;\n}\n\nfunction rec(params, func) {\n    params = _.sortBy(params, function(p) {\n        return func(p);\n    });\n    var n = params.length;\n    var val_num = params[0].length;\n    var p_h = params[n - 1];\n    var p_g = params[n - 2];\n    var p_l = params[0];\n    var p_c = calcCenter(params.concat().splice(0, n - 1));\n    var p_r = [];\n    for (var i = 0; i < val_num; i++) p_r[i] = 2 * p_c[i] - p_h[i];\n\n    if (func(p_r) >= func(p_h)) {\n        // reduction\n        for (var i = 0; i < val_num; i++)\n            params[n - 1][i] = (1 - l_1) * p_h[i] + l_1 * p_r[i];\n    } else if (func(p_r) < (func(p_l) + (l_2 - 1) * func(p_h)) / l_2) {\n        // expand\n        var p_e = [];\n        for (var i = 0; i < val_num; i++) p_e[i] = l_2 * p_r[i] - (l_2 - 1) * p_h[i];\n        if (func(p_e) <= func(p_r)) params[n - 1] = p_e;\n        else params[n - 1] = p_r;\n    } else {\n        params[n - 1] = p_r;\n    }\n\n    if (func(params[n - 1]) >= func(p_g)) {\n        // reduction all\n        _.each(params, function(p, i) {\n            for (var j = 0; j < val_num; j++) {\n                params[i][j] = 0.5 * (p[j] + p_l[j]);\n            }\n        });\n    }\n    var sum = 0;\n    _.each(params, function(p) {\n        sum += Math.pow(func(p) - func(p_l), 2);\n    });\n\n    if (sum < EPS) return params[n - 1];\n    else {\n        count++;\n        if (count > COUNT_LIMIT) return params[n - 1];\n        return rec(params, func);\n    }\n}\n\nfunction simplex(params, func) {\n    var k = 1;\n    var n = params.length;\n    var p_default = [params];\n    _.each(_.range(n), function(i) {\n        var p = params.concat();\n        p[i] += k;\n        p_default.push(p);\n    });\n    return rec(p_default, func);\n}\n\nexport default simplex;\n","/*\n * Venn: 3-way venn diagram\n *\n * The implementation of traditional 3-way venn diagram. This chart is designed to work with histogram and bar chart. (See example at the bottom of this comment.)\n * The overlapping areas are automatically changed according to common values in each pair of group. The calculation is excuted with downhill simplex method.\n * Attention: This is still experimental implementation and should be modernized. Feel free to re-write the code below and send pull-request.\n *\n *\n * options:\n *    category, count-> String: Column name.\n *    color          -> Array : Array of String. Colors in which circles are filled.\n *    stroke_color   -> String: stroke color.\n *    stroke_width   -> Float : stroke width.\n *    hover          -> Bool  : set whether pop-up tool-tips when bars are hovered.\n *    area_names     -> Array : Array of String. Names for each groups.\n *    filter_control -> Bool  : Wheter to display controller for filtering. See the second example below.\n *\n * example:\n *    http://bl.ocks.org/domitry/d70dff56885218c7ad9a\n *    http://www.domitry.com/gsoc/multi_pane2.html\n */\n\nimport _ from 'underscore';\nimport Manager from '../../core/manager';\nimport Filter from '../components/filter';\nimport SimpleLegend from '../components/legend/simple_legend';\nimport simplex from '../../utils/simplex';\n\nfunction Venn(parent, scales, df_id, _options) {\n    var options = {\n        category: null,\n        count: null,\n        color: null,\n        stroke_color: '#000',\n        stroke_width: 1,\n        opacity: 0.7,\n        hover: false,\n        area_names: ['VENN1', 'VENN2', 'VENN3'],\n        filter_control: false\n    };\n    if (arguments.length > 3) _.extend(options, _options);\n\n    var df = Manager.getData(df_id);\n    var model = parent.append(\"g\");\n\n    var column_category = df.column(options.category);\n    var categories = _.uniq(column_category);\n    var color_scale;\n\n    if (options.color == null) color_scale = d3.scale.category20().domain(options.area_names);\n    else color_scale = d3.scale.ordinal().range(options.color).domain(options.area_names);\n    this.color_scale = color_scale;\n\n    var legend_data = [];\n    var selected_category = [\n        [categories[0]],\n        [categories[1]],\n        [categories[2]]\n    ];\n\n    var update = this.update,\n        tellUpdate = this.tellUpdate;\n    var thisObj = this;\n\n    for (var i = 0; i < 3; i++) {\n        var entry = [];\n        entry.push({\n            label: options.area_names[i],\n            color: color_scale(options.area_names[i])\n        });\n        _.each(categories, function(category) {\n            var venn_id = i;\n            var on = function() {\n                selected_category[venn_id].push(category);\n                update.call(thisObj);\n                tellUpdate.call(thisObj);\n            };\n            var off = function() {\n                var pos = selected_category[venn_id].indexOf(category);\n                selected_category[venn_id].splice(pos, 1);\n                update.call(thisObj);\n                tellUpdate.call(thisObj);\n            };\n            var mode = (category == selected_category[i] ? 'on' : 'off');\n            entry.push({\n                label: category,\n                color: 'black',\n                mode: mode,\n                on: on,\n                off: off\n            });\n        });\n        legend_data.push(new SimpleLegend(entry));\n    }\n\n    var filter_mode = 'all';\n    if (options.filter_control) {\n        var entry = [];\n        var modes = ['all', 'overlapping', 'non-overlapping'];\n        var default_mode = filter_mode;\n\n        entry.push({\n            label: 'Filter',\n            color: 'gray'\n        });\n        _.each(modes, function(mode) {\n            var on = function() {\n                thisObj.filter_mode = mode;\n                update.call(thisObj);\n                tellUpdate.call(thisObj);\n            };\n            var on_off = (mode == default_mode ? 'on' : 'off');\n            entry.push({\n                label: mode,\n                color: 'black',\n                on: on,\n                off: function() {},\n                mode: on_off\n            });\n        });\n        legend_data.push(new SimpleLegend(entry, {\n            mode: 'radio'\n        }));\n    }\n\n    this.selected_category = selected_category;\n    this.filter_mode = filter_mode;\n    this.legend_data = legend_data;\n    this.options = options;\n    this.scales = scales;\n    this.model = model;\n    this.df_id = df_id;\n    this.df = df;\n    this.uuid = options.uuid;\n\n    this.tellUpdate();\n\n    return this;\n}\n\n// X->x, Y->y scales given by pane is useless when creating venn diagram, so create new scale consists of x, y, and r.\nVenn.prototype.getScales = function(data, scales) {\n    var r_w = _.max(scales.range().x) - _.min(scales.range().x);\n    var r_h = _.max(scales.range().y) - _.min(scales.range().y);\n    var d_x = {\n        min: (function() {\n            var min_d = _.min(data.pos, function(d) {\n                return d.x - d.r;\n            });\n            return min_d.x - min_d.r;\n        })(),\n        max: (function() {\n            var max_d = _.max(data.pos, function(d) {\n                return d.x + d.r;\n            });\n            return max_d.x + max_d.r;\n        })()\n    };\n    var d_y = {\n        min: (function() {\n            var min_d = _.min(data.pos, function(d) {\n                return d.y - d.r;\n            });\n            return min_d.y - min_d.r;\n        })(),\n        max: (function() {\n            var max_d = _.max(data.pos, function(d) {\n                return d.y + d.r;\n            });\n            return max_d.y + max_d.r;\n        })()\n    };\n    var d_w = d_x.max - d_x.min;\n    var d_h = d_y.max - d_y.min;\n\n    var scale = 0;\n    if (r_w / r_h > d_w / d_h) {\n        scale = d_h / r_h;\n        var new_d_w = scale * r_w;\n        d_x.min -= (new_d_w - d_w) / 2;\n        d_x.max += (new_d_w - d_w) / 2;\n    } else {\n        scale = d_w / r_w;\n        var new_d_h = scale * r_h;\n        d_h.min -= (new_d_h - d_h) / 2;\n        d_h.max += (new_d_h - d_h) / 2;\n    }\n    var new_scales = {};\n    new_scales.x = d3.scale.linear().range(scales.range().x).domain([d_x.min, d_x.max]);\n    new_scales.y = d3.scale.linear().range(scales.range().y).domain([d_y.min, d_y.max]);\n    new_scales.r = d3.scale.linear().range([0, 100]).domain([0, 100 * scale]);\n    return new_scales;\n};\n\n// fetch data and update dom objects.\nVenn.prototype.update = function() {\n    var column_count = this.df.columnWithFilters(this.uuid, this.options.count);\n    var column_category = this.df.columnWithFilters(this.uuid, this.options.category);\n\n    var data = this.processData(column_category, column_count, this.selected_category);\n    var scales = this.getScales(data, this.scales);\n    var circles = this.model.selectAll(\"circle\").data(data.pos);\n    var texts = this.model.selectAll(\"text\").data(data.labels);\n\n    if (circles[0][0] == undefined) circles = circles.enter().append(\"circle\");\n    if (texts[0][0] == undefined) texts = texts.enter().append(\"text\");\n\n    this.counted_items = data.counted_items;\n    this.updateModels(circles, scales, this.options);\n    this.updateLabels(texts, scales, this.options);\n};\n\n// Calculate overlapping areas at first, and then decide center point of each circle with simplex module.\nVenn.prototype.processData = function(category_column, count_column, selected_category) {\n    // decide overlapping areas\n    var items = (function() {\n        var table = [];\n        var counted_items = (function() {\n            var hash = {};\n            _.each(_.zip(category_column, count_column), function(arr) {\n                if (hash[arr[1]] == undefined) hash[arr[1]] = {};\n                _.each(selected_category, function(category, i) {\n                    if (category.indexOf(arr[0]) != -1) hash[arr[1]][i] = true;\n                });\n            });\n            return hash;\n        })();\n\n        var count_common = function(items) {\n            var cnt = 0;\n            _.each(_.values(counted_items), function(values, key) {\n                if (!_.some(items, function(item) {\n                        return !(item in values);\n                    })) cnt++;\n            });\n            return cnt;\n        };\n\n        for (var i = 0; i < 3; i++) {\n            table[i] = [];\n            table[i][i] = count_common([i]);\n            for (var j = i + 1; j < 3; j++) {\n                var num = count_common([i, j]);\n                table[i][j] = num;\n            }\n        }\n        return {\n            table: table,\n            counted_items: counted_items\n        };\n    })();\n    var table = items.table;\n    var counted_items = items.counted_items;\n\n    // decide radius of each circle\n    var r = _.map(table, function(row, i) {\n        return Math.sqrt(table[i][i] / (2 * Math.PI));\n    });\n\n    // function for minimizing loss of overlapping (values: x1,y1,x1,y1...)\n    var evaluation = function(values) {\n        var loss = 0;\n        for (var i = 0; i < values.length; i += 2) {\n            for (var j = i + 2; j < values.length; j += 2) {\n                var x1 = values[i],\n                    y1 = values[i + 1],\n                    x2 = values[j],\n                    y2 = values[j + 1];\n                var r1 = r[i / 2],\n                    r2 = r[j / 2];\n                var d = Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n                var S = 0;\n                if (d > r1 + r2) S = 0;\n                else {\n                    _.each([\n                        [r1, r2],\n                        [r2, r1]\n                    ], function(r_arr) {\n                        var theta = Math.acos((r_arr[1] * r_arr[1] - r_arr[0] * r_arr[0] + d * d) / (2 * r_arr[1] * d));\n                        var s = r_arr[i] * r_arr[i] * theta - (1 / 2) * r_arr[1] * r_arr[1] * Math.sin(theta * 2);\n                        S += s;\n                    });\n                }\n                loss += Math.pow(table[i / 2][j / 2] - S, 2);\n            }\n        }\n        return loss;\n    };\n\n    // decide initial paramaters\n    var init_params = (function() {\n        var params = [];\n        var set_num = table[0].length;\n        var max_area = _.max(table, function(arr, i) {\n            // calc the sum of overlapping area\n            var result = 0;\n            for (var j = 0; j < i; j++) result += table[j][i];\n            for (var j = i + 1; j < arr.length; j++) result += table[i][j];\n            return result;\n        });\n        var center_i = set_num - max_area.length;\n        params[center_i * 2] = 0; // x\n        params[center_i * 2 + 1] = 0; // y\n        var rad = 0,\n            rad_interval = Math.PI / (1.5 * (set_num - 1));\n        for (var i = 0; i < set_num; i++) {\n            if (i != center_i) {\n                var d = r[center_i] + r[i] / 2;\n                params[i * 2] = d * Math.sin(rad);\n                params[i * 2 + 1] = d * Math.cos(rad);\n                rad += rad_interval;\n            }\n        }\n        return params;\n    })();\n\n    // decide coordinates using Simplex method\n    var params = simplex(init_params, evaluation);\n    var pos = [],\n        labels = [];\n    for (var i = 0; i < params.length; i += 2)\n        pos.push({\n            x: params[i],\n            y: params[i + 1],\n            r: r[i / 2],\n            id: i\n        });\n\n    for (var i = 0; i < 3; i++) {\n        labels.push({\n            x: params[i * 2],\n            y: params[i * 2 + 1],\n            val: table[i][i]\n        });\n        for (var j = i + 1; j < 3; j++) {\n            var x = (params[i * 2] + params[j * 2]) / 2;\n            var y = (params[i * 2 + 1] + params[j * 2 + 1]) / 2;\n            labels.push({\n                x: x,\n                y: y,\n                val: table[i][j]\n            });\n        }\n    }\n\n    return {\n        pos: pos,\n        labels: labels,\n        counted_items: counted_items\n    };\n};\n\n// update dom objects according to pre-processed data.\nVenn.prototype.updateModels = function(selector, scales, options) {\n    var color_scale = this.color_scale;\n    var area_names = this.options.area_names;\n\n    selector\n        .attr(\"cx\", function(d) {\n            return scales.x(d.x);\n        })\n        .attr(\"cy\", function(d) {\n            return scales.y(d.y);\n        })\n        .attr(\"stroke\", options.stroke_color)\n        .attr(\"stroke-width\", options.stroke_width)\n        .attr(\"fill\", function(d) {\n            return color_scale(area_names[d.id]);\n        })\n        .attr(\"fill-opacity\", options.opacity)\n        .transition()\n        .duration(500)\n        .attr(\"r\", function(d) {\n            return scales.r(d.r);\n        });\n\n    if (options.hover) {\n        var onMouse = function() {\n            d3.select(this).transition()\n                .duration(200)\n                .attr(\"fill\", function(d) {\n                    return d3.rgb(color_scale(area_names[d.id])).darker(1);\n                });\n        };\n\n        var outMouse = function() {\n            d3.select(this).transition()\n                .duration(200)\n                .attr(\"fill\", function(d) {\n                    return color_scale(area_names[d.id]);\n                });\n        };\n\n        selector\n            .on(\"mouseover\", onMouse)\n            .on(\"mouseout\", outMouse);\n    }\n};\n\n// update labels placed the center point between each pair of circle.\nVenn.prototype.updateLabels = function(selector, scales, options) {\n    selector\n        .attr(\"x\", function(d) {\n            return scales.x(d.x);\n        })\n        .attr(\"y\", function(d) {\n            return scales.y(d.y);\n        })\n        .attr(\"text-anchor\", \"middle\")\n        .text(function(d) {\n            return String(d.val);\n        });\n};\n\n// return legend object.\nVenn.prototype.getLegend = function() {\n    return this.legend_data;\n};\n\n// tell update to Manager when venn recieved change from filter controller.\nVenn.prototype.tellUpdate = function() {\n    var rows = [],\n        selected_category = this.selected_category;\n    var counted_items = this.counted_items;\n    var filter_mode = this.filter_mode;\n    var category_num = this.options.category;\n    var count_num = this.options.count;\n    var filter = {\n        'all': function(row) {\n            // check if this row in in any area (VENN1, VENN2, VENN3,...)\n            return _.some(selected_category, function(categories) {\n                if (categories.indexOf(row[category_num]) != -1) return true;\n                else return false;\n            });\n        },\n        'overlapping': function(row) {\n            if (!_.some(selected_category, function(categories) {\n                    if (categories.indexOf(row[category_num]) != -1) return true;\n                    else return false;\n                })) return false;\n\n            for (var i = 0; i < 3; i++) {\n                for (var j = i + 1; j < 3; j++) {\n                    if (\n                        counted_items[row[count_num]][i] && counted_items[row[count_num]][j]\n                    ) return true;\n                }\n            }\n            return false;\n        },\n        'non-overlapping': function(row) {\n            if (!_.some(selected_category, function(categories) {\n                    if (categories.indexOf(row[category_num]) != -1) return true;\n                    else return false;\n                })) return false;\n\n            for (var i = 0; i < 3; i++) {\n                for (var j = i + 1; j < 3; j++) {\n                    if (counted_items[row[count_num]][i] && counted_items[row[count_num]][j]) return false;\n                }\n            }\n            return true;\n        }\n    }[filter_mode];\n    this.df.addFilter(this.uuid, filter, ['self']);\n    Manager.update();\n};\n\nexport default Venn;\n","/*\n * Venn: Venn diagram consisted in 3> circles\n *\n * Attention -- this chart is not supported yet. Please send pull-req if you are interested in re-implementing this chart.\n *    See src/view/diagrams/venn.js to learn more.\n */\n\nimport _ from 'underscore';\nimport Manager from '../../core/manager';\nimport Filter from '../components/filter';\nimport simplex from '../../utils/simplex';\n\nfunction Venn(parent, scales, df_id, _options) {\n    var options = {\n        category: null,\n        count: null,\n        color: null,\n        stroke_color: '#000',\n        stroke_width: 1,\n        opacity: 0.7,\n        hover: false\n    };\n    if (arguments.length > 3) _.extend(options, _options);\n\n    this.getScales = function(data, scales) {\n        var r_w = _.max(scales.x.range()) - _.min(scales.x.range());\n        var r_h = _.max(scales.y.range()) - _.min(scales.y.range());\n        var d_x = {\n            min: (function() {\n                var min_d = _.min(data.pos, function(d) {\n                    return d.x - d.r;\n                });\n                return min_d.x - min_d.r;\n            })(),\n            max: (function() {\n                var max_d = _.max(data.pos, function(d) {\n                    return d.x + d.r;\n                });\n                return max_d.x + max_d.r;\n            })()\n        };\n        var d_y = {\n            min: (function() {\n                var min_d = _.min(data.pos, function(d) {\n                    return d.y - d.r;\n                });\n                return min_d.y - min_d.r;\n            })(),\n            max: (function() {\n                var max_d = _.max(data.pos, function(d) {\n                    return d.y + d.r;\n                });\n                return max_d.y + max_d.r;\n            })()\n        };\n        var d_w = d_x.max - d_x.min;\n        var d_h = d_y.max - d_y.min;\n\n        var scale = 0;\n        if (r_w / r_h > d_w / d_h) {\n            scale = d_h / r_h;\n            var new_d_w = scale * r_w;\n            d_x.min -= (new_d_w - d_w) / 2;\n            d_x.max += (new_d_w - d_w) / 2;\n        } else {\n            scale = d_w / r_w;\n            var new_d_h = scale * r_h;\n            d_h.min -= (new_d_h - d_h) / 2;\n            d_h.max += (new_d_h - d_h) / 2;\n        }\n        var new_scales = {};\n        new_scales.x = d3.scale.linear().range(scales.x.range()).domain([d_x.min, d_x.max]);\n        new_scales.y = d3.scale.linear().range(scales.y.range()).domain([d_y.min, d_y.max]);\n        new_scales.r = d3.scale.linear().range([0, 100]).domain([0, 100 * scale]);\n        return new_scales;\n    };\n\n    var df = Manager.getData(df_id);\n    var data = this.processData(df.column(options.category), df.column(options.count));\n    var new_scales = this.getScales(data, scales);\n\n    var model = parent.append(\"g\");\n\n    var circles = model\n        .selectAll(\"circle\")\n        .data(data.pos)\n        .enter()\n        .append(\"circle\");\n\n    var texts = model\n        .selectAll(\"text\")\n        .data(data.labels)\n        .enter()\n        .append(\"text\");\n\n    if (options.color == null) this.color_scale = d3.scale.category20();\n    else this.color_scale = d3.scale.ordinal().range(options.color);\n    var color_scale = this.color_scale;\n\n    this.updateModels(circles, new_scales, options);\n    this.updateLabels(texts, new_scales, options);\n\n    var legends = [];\n    _.each(data.pos, function(d) {\n        legends.push({\n            label: d.name,\n            color: color_scale(d.name)\n        });\n    });\n\n    this.legends = legends;\n    this.scales = scales;\n    this.options = options;\n    this.model = model;\n    this.df = df;\n    this.df_id = df_id;\n\n    return this;\n}\n\nVenn.prototype.processData = function(category_column, count_column) {\n    var categories = _.uniq(category_column);\n\n    // decide overlapping areas\n    var table = (function() {\n        var table = [];\n        var counted_items = (function() {\n            var hash = {};\n            _.each(_.zip(category_column, count_column), function(arr) {\n                if (hash[arr[1]] == undefined) hash[arr[1]] = {};\n                hash[arr[1]][arr[0]] = true;\n            });\n            return _.values(hash);\n        })();\n\n        var count_common = function(items) {\n            var cnt = 0;\n            _.each(counted_items, function(values, key) {\n                if (!_.some(items, function(item) {\n                        return !(item in values);\n                    })) cnt++;\n            });\n            return cnt;\n        };\n\n        for (var i = 0; i < categories.length; i++) {\n            table[i] = [];\n            table[i][i] = count_common([categories[i]]);\n            for (var j = i + 1; j < categories.length; j++) {\n                var num = count_common([categories[i], categories[j]]);\n                table[i][j] = num;\n            }\n        }\n        return table;\n    })();\n\n    // decide radius of each circle\n    var r = _.map(table, function(row, i) {\n        return Math.sqrt(table[i][i] / (2 * Math.PI));\n    });\n\n    // function for minimizing loss of overlapping (values: x1,y1,x1,y1...)\n    var evaluation = function(values) {\n        var loss = 0;\n        for (var i = 0; i < values.length; i += 2) {\n            for (var j = i + 2; j < values.length; j += 2) {\n                var x1 = values[i],\n                    y1 = values[i + 1],\n                    x2 = values[j],\n                    y2 = values[j + 1];\n                var r1 = r[i / 2],\n                    r2 = r[j / 2];\n                var d = Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n                var S = 0;\n                if (d > r1 + r2) S = 0;\n                else {\n                    _.each([\n                        [r1, r2],\n                        [r2, r1]\n                    ], function(r_arr) {\n                        var theta = Math.acos((r_arr[1] * r_arr[1] - r_arr[0] * r_arr[0] + d * d) / (2 * r_arr[1] * d));\n                        var s = r_arr[i] * r_arr[i] * theta - (1 / 2) * r_arr[1] * r_arr[1] * Math.sin(theta * 2);\n                        S += s;\n                    });\n                }\n                loss += Math.pow(table[i / 2][j / 2] - S, 2);\n            }\n        }\n        return loss;\n    };\n\n    // decide initial paramaters\n    var init_params = (function() {\n        var params = [];\n        var set_num = table[0].length;\n        var max_area = _.max(table, function(arr, i) {\n            // calc the sum of overlapping area\n            var result = 0;\n            for (var j = 0; j < i; j++) result += table[j][i];\n            for (var j = i + 1; j < arr.length; j++) result += table[i][j];\n            return result;\n        });\n        var center_i = set_num - max_area.length;\n        params[center_i * 2] = 0; // x\n        params[center_i * 2 + 1] = 0; // y\n        var rad = 0,\n            rad_interval = Math.PI / (1.5 * (set_num - 1));\n        for (var i = 0; i < set_num; i++) {\n            if (i != center_i) {\n                var d = r[center_i] + r[i] / 2;\n                params[i * 2] = d * Math.sin(rad);\n                params[i * 2 + 1] = d * Math.cos(rad);\n                rad += rad_interval;\n            }\n        }\n        return params;\n    })();\n\n    // decide coordinates using Simplex method\n    var params = simplex(init_params, evaluation);\n    var pos = [],\n        labels = [];\n    for (var i = 0; i < params.length; i += 2)\n        pos.push({\n            x: params[i],\n            y: params[i + 1],\n            r: r[i / 2],\n            name: categories[i / 2]\n        });\n\n    for (var i = 0; i < categories.length; i++) {\n        labels.push({\n            x: params[i * 2],\n            y: params[i * 2 + 1],\n            val: table[i][i]\n        });\n        for (var j = i + 1; j < categories.length; j++) {\n            var x = (params[i * 2] + params[j * 2]) / 2;\n            var y = (params[i * 2 + 1] + params[j * 2 + 1]) / 2;\n            labels.push({\n                x: x,\n                y: y,\n                val: table[i][j]\n            });\n        }\n    }\n\n    return {\n        pos: pos,\n        labels: labels\n    };\n};\n\nVenn.prototype.updateModels = function(selector, scales, options) {\n    var color_scale = this.color_scale;\n    var onMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", function(d) {\n                return d3.rgb(color_scale(d.name)).darker(1);\n            });\n    };\n\n    var outMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", function(d) {\n                return color_scale(d.name);\n            });\n    };\n\n    selector\n        .attr(\"cx\", function(d) {\n            return scales.x(d.x);\n        })\n        .attr(\"cy\", function(d) {\n            return scales.y(d.y);\n        })\n        .attr(\"stroke\", options.stroke_color)\n        .attr(\"stroke-width\", options.stroke_width)\n        .attr(\"fill\", function(d) {\n            return color_scale(d.name);\n        })\n        .attr(\"fill-opacity\", options.opacity)\n        .transition()\n        .duration(500)\n        .attr(\"r\", function(d) {\n            return scales.r(d.r);\n        });\n\n    if (options.hover) selector\n        .on(\"mouseover\", onMouse)\n        .on(\"mouseout\", outMouse);\n};\n\nVenn.prototype.updateLabels = function(selector, scales, options) {\n    selector\n        .attr(\"x\", function(d) {\n            return scales.x(d.x);\n        })\n        .attr(\"y\", function(d) {\n            return scales.y(d.y);\n        })\n        .attr(\"text-anchor\", \"middle\")\n        .text(function(d) {\n            return String(d.val);\n        });\n};\n\nVenn.prototype.selected = function(data, row_nums) {\n    var selected_count = this.df.pickUpCells(this.options.count, row_nums);\n    var selected_category = this.df.pickUpCells(this.options.category, row_nums);\n    var data = this.processData(selected_category, selected_count, this.options);\n    var scales = this.getScales(data, this.scales);\n\n    var circles = this.model.selectAll(\"circle\").data(data.pos);\n    var texts = this.model.selectAll(\"text\").data(data.labels);\n    this.updateModels(circles, scales, this.options);\n    this.updateLabels(texts, scales, this.options);\n};\n\nVenn.prototype.update = function() {};\n\nVenn.prototype.checkSelectedData = function(ranges) {};\n\nexport default Venn;\n","/*\n * Box: Boxplot\n *\n * This chart is generated from 'value' columns. Box calculates median and other parameters and create box plot using rect and line.\n * Each box is placed in the position on x-axis, corresponds to column name.\n *\n * options:\n *    title        -> String: title of this chart showen on legend\n *    value        -> Array : Array of String (column name)\n *    width        -> Float : 0..1, width of each box\n *    color        -> Array : color in which bars filled.\n *    stroke_color -> String: stroke color\n *    stroke_width -> Float : stroke width\n *    outlier_r    -> Float : radius of outliers\n *    tooltip      -> Object: instance of Tooltip. set by pane.\n *\n * example:\n *    http://bl.ocks.org/domitry/5a89296dfb23f0ea2ffd\n */\n\n\nimport _ from 'underscore';\nimport uuid from 'node-uuid';\nimport Manager from '../../core/manager';\nimport Filter from '../components/filter';\nimport SimpleLegend from '../components/legend/simple_legend';\n\nfunction Box(parent, scales, df_id, _options) {\n    var options = {\n        title: '',\n        value: [],\n        width: 0.9,\n        color: null,\n        stroke_color: 'black',\n        stroke_width: 1,\n        outlier_r: 3,\n        tooltip_contents: [],\n        tooltip: null\n    };\n    if (arguments.length > 3) _.extend(options, _options);\n\n    var model = parent.append(\"g\");\n    var df = Manager.getData(df_id);\n\n    var color_scale;\n    if (options.color == null) {\n        color_scale = d3.scale.category20b();\n    } else {\n        color_scale = d3.scale.ordinal().range(options.color);\n    }\n\n    this.model = model;\n    this.scales = scales;\n    this.options = options;\n    this.df = df;\n    this.color_scale = color_scale;\n    this.uuid = options.uuid;\n\n    return this;\n}\n\n// fetch data and update dom object. called by pane which this chart belongs to.\nBox.prototype.update = function() {\n    var uuid = this.uuid;\n    var processData = this.processData;\n    var df = this.df;\n    var data = [];\n    _.each(this.options.value, function(column_name) {\n        var column = df.columnWithFilters(uuid, column_name);\n        data.push(_.extend(processData(column), {\n            x: column_name\n        }));\n    });\n\n    var boxes = this.model.selectAll(\"g\").data(data);\n    boxes.enter()\n        .append(\"g\");\n\n    this.updateModels(boxes, this.scales, this.options);\n};\n\n// convert raw data into style information for box\nBox.prototype.processData = function(column) {\n    var getMed = function(arr) {\n        var n = arr.length;\n        return (n % 2 == 1 ? arr[Math.floor(n / 2)] : (arr[n / 2] + arr[n / 2 + 1]) / 2);\n    };\n\n    var arr = _.sortBy(column);\n    var med = getMed(arr);\n    var q1 = getMed(arr.slice(0, arr.length / 2 - 1));\n    var q3 = getMed(arr.slice((arr.length % 2 == 0 ? arr.length / 2 : arr.length / 2 + 1), arr.length - 1));\n    var h = q3 - q1;\n    var max = (_.max(arr) - q3 > 1.5 * h ? q3 + 1.5 * h : _.max(arr));\n    var min = (q1 - _.min(arr) > 1.5 * h ? q1 - 1.5 * h : _.min(arr));\n    var outlier = _.filter(arr, function(d) {\n        return (d > max || d < min);\n    });\n\n    return {\n        med: med,\n        q1: q1,\n        q3: q3,\n        max: max,\n        min: min,\n        outlier: outlier\n    };\n};\n\n// update SVG dom nodes based on data\nBox.prototype.updateModels = function(selector, scales, options) {\n    var width = scales.raw.x.rangeBand() * options.width;\n    var padding = scales.raw.x.rangeBand() * ((1 - options.width) / 2);\n    var color_scale = this.color_scale;\n\n    var onMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", function(d) {\n                return d3.rgb(color_scale(d.x)).darker(1);\n            });\n        var id = d3.select(this).attr(\"id\");\n\n        options.tooltip.addToYAxis(id, this.__data__.min, 3);\n        options.tooltip.addToYAxis(id, this.__data__.q1, 3);\n        options.tooltip.addToYAxis(id, this.__data__.med, 3);\n        options.tooltip.addToYAxis(id, this.__data__.q3, 3);\n        options.tooltip.addToYAxis(id, this.__data__.max, 3);\n        options.tooltip.update();\n    };\n\n    var outMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", function(d) {\n                return d3.rgb(color_scale(d.x));\n            });\n        var id = d3.select(this).attr(\"id\");\n        options.tooltip.reset();\n    };\n\n    selector\n        .append(\"line\")\n        .attr(\"x1\", function(d) {\n            return scales.get(d.x, 0).x + width / 2 + padding;\n        })\n        .attr(\"y1\", function(d) {\n            return scales.get(d.x, d.max).y;\n        })\n        .attr(\"x2\", function(d) {\n            return scales.get(d.x, 0).x + width / 2 + padding;\n        })\n        .attr(\"y2\", function(d) {\n            return scales.get(d.x, d.min).y;\n        })\n        .attr(\"stroke\", options.stroke_color);\n\n    selector\n        .append(\"rect\")\n        .attr(\"x\", function(d) {\n            return scales.get(d.x, 0).x + padding;\n        })\n        .attr(\"y\", function(d) {\n            return scales.get(d.x, d.q3).y;\n        })\n        .attr(\"height\", function(d) {\n            return scales.get(d.x, d.q1).y - scales.get(d.x, d.q3).y;\n        })\n        .attr(\"width\", width)\n        .attr(\"fill\", function(d) {\n            return color_scale(d.x);\n        })\n        .attr(\"stroke\", options.stroke_color)\n        .attr(\"id\", uuid.v4())\n        .on(\"mouseover\", onMouse)\n        .on(\"mouseout\", outMouse);\n\n    // median line\n    selector\n        .append(\"line\")\n        .attr(\"x1\", function(d) {\n            return scales.get(d.x, 0).x + padding;\n        })\n        .attr(\"y1\", function(d) {\n            return scales.get(d.x, d.med).y;\n        })\n        .attr(\"x2\", function(d) {\n            return scales.get(d.x, 0).x + width + padding;\n        })\n        .attr(\"y2\", function(d) {\n            return scales.get(d.x, d.med).y;\n        })\n        .attr(\"stroke\", options.stroke_color);\n\n    selector\n        .append(\"g\")\n        .each(function(d, i) {\n            d3.select(this)\n                .selectAll(\"circle\")\n                .data(d.outlier)\n                .enter()\n                .append(\"circle\")\n                .attr(\"cx\", function(d1) {\n                    return scales.get(d.x, 0).x + width / 2 + padding;\n                })\n                .attr(\"cy\", function(d1) {\n                    return scales.get(d.x, d1).y;\n                })\n                .attr(\"r\", options.outlier_r);\n        });\n};\n\n// return legend object based on data prepared by initializer\nBox.prototype.getLegend = function() {\n    return new SimpleLegend(this.legend_data);\n};\n\n// answer to callback coming from filter. not implemented yet.\nBox.prototype.checkSelectedData = function(ranges) {\n    return;\n};\n\nexport default Box;\n","/*\n * ColorBar: \n *\n * ColorBar provides colorbar filled with gradient for continuous data.\n * Each diagram create an instance of Colorset and Pane append it to itself.\n *\n * options:\n *    width -> Float: width of the whole area for colorset (not noly for bar)\n *    height-> Float: height of the area for colorset\n *\n * example:\n *    http://bl.ocks.org/domitry/11322618\n */\n\nimport _ from 'underscore';\n\nfunction ColorBar(color_scale, _options) {\n    var options = {\n        width: 150,\n        height: 200\n    };\n    if (arguments.length > 1) _.extend(options, _options);\n\n    this.options = options;\n    this.model = d3.select(document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\"));\n    this.color_scale = color_scale;\n}\n\nColorBar.prototype.width = function() {\n    return this.options.width;\n};\n\nColorBar.prototype.height = function() {\n    return this.options.height;\n};\n\n// Create dom object independent form pane or context and return it. called by each diagram.o\nColorBar.prototype.getDomObject = function() {\n    var model = this.model;\n    var color_scale = this.color_scale;\n    var colors = color_scale.range();\n    var values = color_scale.domain();\n\n    var height_scale = d3.scale.linear()\n        .domain(d3.extent(values))\n        .range([this.options.height, 0]);\n\n    var gradient = model.append(\"svg:defs\")\n        .append(\"svg:linearGradient\")\n        .attr(\"id\", \"gradient\")\n        .attr(\"x1\", \"0%\")\n        .attr(\"x2\", \"0%\")\n        .attr(\"y1\", \"100%\")\n        .attr(\"y2\", \"0%\");\n\n    for (var i = 0; i < colors.length; i++) {\n        gradient.append(\"svg:stop\")\n            .attr(\"offset\", (100 / (colors.length - 1)) * i + \"%\")\n            .attr(\"stop-color\", colors[i]);\n    }\n\n    var group = model.append(\"g\");\n\n    group.append(\"svg:rect\")\n        .attr(\"y\", 10)\n        .attr(\"width\", \"25\")\n        .attr(\"height\", this.options.height)\n        .style(\"fill\", \"url(#gradient)\");\n\n    model.append(\"g\")\n        .attr(\"width\", \"100\")\n        .attr(\"height\", this.options.height)\n        .attr(\"class\", \"axis\")\n        .attr(\"transform\", \"translate(25,10)\")\n        .call(d3.svg.axis()\n            .scale(height_scale)\n            .orient(\"right\")\n            .ticks(5));\n\n    model.selectAll(\".axis\").selectAll(\"path\")\n        .style(\"fill\", \"none\")\n        .style(\"stroke\", \"black\")\n        .style(\"shape-rendering\", \"crispEdges\");\n\n    model.selectAll(\".axis\").selectAll(\"line\")\n        .style(\"fill\", \"none\")\n        .style(\"stroke\", \"black\")\n        .style(\"shape-rendering\", \"crispEdges\");\n\n    model.selectAll(\".axis\").selectAll(\"text\")\n        .style(\"font-family\", \"san-serif\")\n        .style(\"font-size\", \"11px\");\n\n    return model;\n};\n\nexport default ColorBar;\n","/*\n * Colorset: The wrapper for colorbrewer\n *\n * Return colorset that have required name and number.\n * See the website of colorbrewer to learn more: http://colorbrewer2.org/\n */\n\nimport _ from 'underscore';\nimport colorbrewer from 'colorbrewer';\n\nfunction colorset(name, num) {\n    if (arguments.length > 1) return colorbrewer[name][num];\n    var nums = _.map(_.keys(colorbrewer[name]), function(key) {\n        return (_.isFinite(key) ? Number(key) : 0);\n    });\n    var max_num = _.max(nums);\n    return colorbrewer[name][String(max_num)];\n}\n\nexport default colorset;\n","/*\n * Heatmap: Heatmap or 2D Histogram\n *\n * Heatmap creates rectangles from continuous data. Width and height values should be specified.\n *\n * options:\n *    title        -> String: title of this chart showen on legend\n *    x, y         -> String: column name. Both x and y should be continuous.\n *    width, height-> Float : 0..1, width and height of each rectangle\n *    color        -> Array : color in which bars filled.\n *    stroke_color -> String: stroke color\n *    stroke_width -> Float : stroke width\n *    hover        -> Bool  : set whether pop-up tool-tips when bars are hovered.\n *    tooltip      -> Object: instance of Tooltip. set by pane.\n *\n * example:\n *    http://bl.ocks.org/domitry/eab8723ccb32fd3a6cd8\n */\n\nimport _ from 'underscore';\nimport uuid from 'node-uuid';\nimport Manager from '../../core/manager';\nimport Filter from '../components/filter';\nimport ColorBar from '../components/legend/color_bar';\nimport colorset from '../../utils/color';\n\nfunction HeatMap(parent, scales, df_id, _options) {\n    var options = {\n        title: 'heatmap',\n        x: null,\n        y: null,\n        fill: null,\n        width: 1.0,\n        height: 1.0,\n        color: colorset(\"RdBu\").reverse(),\n        stroke_color: \"#fff\",\n        stroke_width: 1,\n        hover: true,\n        tooltip: null\n    };\n    if (arguments.length > 3) _.extend(options, _options);\n\n    var df = Manager.getData(df_id);\n    var model = parent.append(\"g\");\n\n    this.color_scale = (function() {\n        var column_fill = df.columnWithFilters(options.uuid, options.fill);\n        var min_max = d3.extent(column_fill);\n        var domain = d3.range(min_max[0], min_max[1], (min_max[1] - min_max[0]) / (options.color.length));\n        return d3.scale.linear()\n            .range(options.color)\n            .domain(domain);\n    })();\n\n    this.scales = scales;\n    this.options = options;\n    this.model = model;\n    this.df = df;\n    this.uuid = options.uuid;\n    return this;\n};\n\n// fetch data and update dom object. called by pane which this chart belongs to.\nHeatMap.prototype.update = function() {\n    var data = this.processData();\n    var models = this.model.selectAll(\"rect\").data(data);\n    models.each(function() {\n        var event = document.createEvent(\"MouseEvents\");\n        event.initEvent(\"mouseout\", false, true);\n        this.dispatchEvent(event);\n    });\n    models.enter().append(\"rect\");\n    this.updateModels(models, this.options);\n};\n\n// pre-process data. convert data coorinates to dom coordinates with Scale.\nHeatMap.prototype.processData = function() {\n    var column_x = this.df.columnWithFilters(this.uuid, this.options.x);\n    var column_y = this.df.columnWithFilters(this.uuid, this.options.y);\n    var column_fill = this.df.columnWithFilters(this.uuid, this.options.fill);\n    var scales = this.scales;\n    var options = this.options;\n    var color_scale = this.color_scale;\n\n    return _.map(_.zip(column_x, column_y, column_fill), function(row) {\n        var x, y, width, height;\n        width = Math.abs(scales.get(options.width, 0).x - scales.get(0, 0).x);\n        height = Math.abs(scales.get(0, options.height).y - scales.get(0, 0).y);\n        x = scales.get(row[0], 0).x - width / 2;\n        y = scales.get(0, row[1]).y - height / 2;\n        return {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            fill: color_scale(row[2]),\n            x_raw: row[0],\n            y_raw: row[1]\n        };\n    });\n};\n\n// update SVG dom nodes based on pre-processed data.\nHeatMap.prototype.updateModels = function(selector, options) {\n    var id = this.uuid;\n    var onMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", function(d) {\n                return d3.rgb(d.fill).darker(1);\n            });\n        options.tooltip.addToXAxis(id, this.__data__.x_raw, 3);\n        options.tooltip.addToYAxis(id, this.__data__.y_raw, 3);\n        options.tooltip.update();\n    };\n\n    var outMouse = function() {\n        d3.select(this).transition()\n            .duration(200)\n            .attr(\"fill\", function(d) {\n                return d.fill;\n            });\n        options.tooltip.reset();\n    };\n\n    selector\n        .attr(\"x\", function(d) {\n            return d.x;\n        })\n        .attr(\"width\", function(d) {\n            return d.width;\n        })\n        .attr(\"y\", function(d) {\n            return d.y;\n        })\n        .attr(\"height\", function(d) {\n            return d.height;\n        })\n        .attr(\"fill\", function(d) {\n            return d.fill;\n        })\n        .attr(\"stroke\", options.stroke_color)\n        .attr(\"stroke-width\", options.stroke_width);\n\n    if (options.hover) selector\n        .on(\"mouseover\", onMouse)\n        .on(\"mouseout\", outMouse);\n};\n\n// return legend object.\nHeatMap.prototype.getLegend = function() {\n    return new ColorBar(this.color_scale);\n};\n\n// answer to callback coming from filter. not implemented yet.\nHeatMap.prototype.checkSelectedData = function(ranges) {\n    return;\n};\n\nexport default HeatMap;\n","/*\n * Vectors: Vector Field\n *\n * Draw vector field from x, y, dx, dy column. This chart is designed to visualize wind vector data.\n * See Nyaplot's notebook: http://nbviewer.ipython.org/github/domitry/nyaplot/blob/master/examples/notebook/Mapnya2.ipynb\n *\n *\n * options:\n *    x,y,dx,dy    -> String: column name.\n *    fill_by      -> String: column name. Fill vectors according to this column. (both of continuous and descrete data are allowed.)\n *    color        -> Array : color in which vectors are filled.\n *    stroke_color -> String: stroke color.\n *    stroke_width -> Float : stroke width.\n *    hover        -> Bool  : set whether pop-up tool-tips when bars are hovered.\n *    tooltip      -> Object: instance of Tooltip. set by pane.\n *\n * example:\n *    http://bl.ocks.org/domitry/1e1222cbc48ab3880849\n */\n\nimport _ from 'underscore';\nimport uuid from 'node-uuid';\nimport Manager from '../../core/manager';\nimport Filter from '../components/filter';\nimport SimpleLegend from '../components/legend/simple_legend';\n\nfunction Vectors(parent, scales, df_id, _options) {\n    var options = {\n        title: 'vectors',\n        x: null,\n        y: null,\n        dx: null,\n        dy: null,\n        fill_by: null,\n        color: ['steelblue', '#000000'],\n        stroke_color: '#000',\n        stroke_width: 2,\n        hover: true,\n        tooltip: null\n    };\n    if (arguments.length > 3) _.extend(options, _options);\n\n    this.scales = scales;\n    var df = Manager.getData(df_id);\n    var model = parent.append(\"g\");\n\n    this.legend_data = (function(thisObj) {\n        var on = function() {\n            thisObj.render = true;\n            thisObj.update();\n        };\n\n        var off = function() {\n            thisObj.render = false;\n            thisObj.update();\n        };\n        return [{\n            label: options.title,\n            color: options.color,\n            on: on,\n            off: off\n        }];\n    })(this);\n\n    this.render = true;\n    this.options = options;\n    this.model = model;\n    this.df = df;\n    this.uuid = options.uuid;\n\n    return this;\n}\n\n// fetch data and update dom object. called by pane which this chart belongs to.\nVectors.prototype.update = function() {\n    var data = this.processData(this.options);\n    this.options.tooltip.reset();\n    if (this.render) {\n        var shapes = this.model.selectAll(\"line\").data(data);\n        shapes.enter().append(\"line\");\n        this.updateModels(shapes, this.scales, this.options);\n    } else {\n        this.model.selectAll(\"line\").remove();\n    }\n};\n\n// pre-process data like: [{x: 1, y: 2, dx: 0.1, dy: 0.2, fill:'#000'}, {},...,{}]\nVectors.prototype.processData = function(options) {\n    var df = this.df;\n    var labels = ['x', 'y', 'dx', 'dy', 'fill'];\n    var columns = _.map(['x', 'y', 'dx', 'dy'], function(label) {\n        return df.column(options[label]);\n    });\n    var length = columns[0].length;\n\n    _.each([{\n        column: 'fill_by',\n        val: 'color'\n    }], function(info) {\n        if (options[info.column]) {\n            var scale = df.scale(options[info.column], options[info.val]);\n            columns.push(_.map(df.column(options[info.column]), function(val) {\n                return scale(val);\n            }));\n        } else {\n            columns.push(_.map(_.range(1, length + 1, 1), function(d) {\n                if (_.isArray(options[info.val])) return options[info.val][0];\n                else return options[info.val];\n            }));\n        }\n    });\n\n    return _.map(_.zip.apply(null, columns), function(d) {\n        return _.reduce(d, function(memo, val, i) {\n            memo[labels[i]] = val;\n            return memo;\n        }, {});\n    });\n};\n\n// update SVG dom nodes based on pre-processed data.\nVectors.prototype.updateModels = function(selector, scales, options) {\n    selector\n        .attr({\n            'x1': function(d) {\n                return scales.get(d.x, d.y).x;\n            },\n            'x2': function(d) {\n                return scales.get(d.x + d.dx, d.y + d.dy).x;\n            },\n            'y1': function(d) {\n                return scales.get(d.x, d.y).y;\n            },\n            'y2': function(d) {\n                return scales.get(d.x + d.dx, d.y + d.dy).y;\n            },\n            'stroke': function(d) {\n                return d.fill;\n            },\n            'stroke-width': options.stroke_width\n        });\n};\n\n// return legend object.\nVectors.prototype.getLegend = function() {\n    return new SimpleLegend(this.legend_data);\n};\n\n// answer to callback coming from filter.\nVectors.prototype.checkSelectedData = function(ranges) {\n    return;\n};\n\nexport default Vectors;\n","/*\n * Diagrams: Diagrams Factory\n *\n * Diagrams manages all diagrams bundled by Nyaplotjs. Extension registers their own diagrams through this module.\n *\n */\n\nimport Bar from './bar';\nimport Histogram from './histogram';\nimport Scatter from './scatter';\nimport Line from './line';\nimport Venn from './venn';\nimport Multiple_venn from './multiple_venn';\nimport Box from './box';\nimport Heatmap from './heatmap';\nimport Vectors from './vectors';\nvar diagrams = {};\n\ndiagrams.bar = Bar;\ndiagrams.histogram = Histogram;\ndiagrams.scatter = Scatter;\ndiagrams.line = Line;\ndiagrams.venn = Venn;\ndiagrams.multiple_venn = Multiple_venn;\ndiagrams.box = Box;\ndiagrams.heatmap = Heatmap;\ndiagrams.vectors = Vectors;\n\n// Add diagrams. Called by other extensions\ndiagrams.add = function(name, diagram) {\n    diagrams[name] = diagram;\n};\n\nexport default diagrams;\n","/*\n * LegendArea: Space for legends\n *\n * LegendArea keep a dom object which legends will be placed on and add legends on the best place in it.\n *\n * options (summary):\n *    width -> Float : width of legend area\n *    height-> Float : height of legend area\n *    margin-> Object: margin inside of legend area\n *\n * example:\n *    http://bl.ocks.org/domitry/e9a914b78f3a576ed3bb\n */\n\nimport _ from 'underscore';\nimport Manager from '../../core/manager';\n\nfunction LegendArea(parent, _options) {\n    var options = {\n        width: 200,\n        height: 300,\n        margin: {\n            top: 10,\n            bottom: 10,\n            left: 10,\n            right: 10\n        },\n        fill_color: 'none',\n        stroke_color: '#000',\n        stroke_width: 0\n    };\n    if (arguments.length > 1) _.extend(options, _options);\n\n    var model = parent.append(\"g\");\n\n    model.append(\"rect\")\n        .attr(\"width\", options.width)\n        .attr(\"height\", options.height)\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"fill\", options.fill_color)\n        .attr(\"stroke\", options.stroke_color)\n        .attr(\"stroke-width\", options.stroke_width);\n\n    this.model = model;\n    this.options = options;\n    this.seek = {\n        x: options.margin.left,\n        y: options.margin.top,\n        width: 0\n    };\n\n    return this;\n}\n\n// Add a new legend to this area\nLegendArea.prototype.add = function(legend) {\n    var legend_area = this.model.append(\"g\")\n        .attr(\"transform\", \"translate(\" + this.seek.x + \",\" + this.seek.y + \")\");\n    var dom = legend.getDomObject();\n    legend_area[0][0].appendChild(dom[0][0]);\n\n    // calculate coordinates to place the new legend (too simple algorism!)\n    if (this.seek.y + legend.height() > this.options.height) {\n        this.seek.x += this.seek.width;\n        this.seek.y = this.options.margin.top;\n    } else {\n        this.seek.width = _.max([this.seek.width, legend.width()]);\n        this.seek.y += legend.height();\n    }\n};\n\nexport default LegendArea;\n","/* \n * Return UA information\n */\n\nimport _ from 'underscore';\nexport default (function() {\n    var userAgent = window.navigator.userAgent.toLowerCase();\n    if (userAgent.indexOf('chrome') != -1) return 'chrome';\n    if (userAgent.indexOf('firefox') != -1) return 'firefox';\n    else return 'unknown';\n});\n","/*\n * Tooltip:\n *\n * Tooltip is an module to generate small tool-tips and rendering them.\n * Pane generate its instance and keep it. Then each diagrams send requests to it.\n *\n * options (summary):\n *    arrow_width   -> Float : Width of arrow. See diagram below.\n *    arrow_height  -> Float : Height of arrow.\n *    tooltip_margin-> Object: Margin inside of tool-tip box.\n *\n *    ------\n *    |_  _ |\n *      \\/     <=== arrow\n *\n * example:\n *    http://bl.ocks.org/domitry/78e2a3300f2f27e18cc8\n */\n\nimport _ from 'underscore';\nimport ua from '../../utils/ua_info';\n\nfunction Tooltip(parent, scales, _options) {\n    var options = {\n        bg_color: \"#333\",\n        stroke_color: \"#000\",\n        stroke_width: 1,\n        text_color: \"#fff\",\n        context_width: 0,\n        context_height: 0,\n        context_margin: {\n            top: 0,\n            left: 0,\n            bottom: 0,\n            right: 0\n        },\n        arrow_width: 10,\n        arrow_height: 10,\n        tooltip_margin: {\n            top: 2,\n            left: 5,\n            bottom: 2,\n            right: 5\n        },\n        font: \"Helvetica, Arial, sans-serif\",\n        font_size: \"1em\"\n    };\n    if (arguments.length > 1) _.extend(options, _options);\n\n    var model = parent.append(\"g\");\n\n    this.scales = scales;\n    this.options = options;\n    this.lists = [];\n    this.model = model;\n\n    return this;\n}\n\n// add small tool-tip to context area\nTooltip.prototype.add = function(id, x, y, pos, contents) {\n    var str = _.map(contents, function(v, k) {\n        return String(k) + \":\" + String(v);\n    });\n    this.lists.push({\n        id: id,\n        x: x,\n        y: y,\n        pos: pos,\n        contents: str\n    });\n};\n\n// add small tool-tip to x-axis\nTooltip.prototype.addToXAxis = function(id, x, round) {\n    if (arguments.length > 2) {\n        var pow10 = Math.pow(10, round);\n        x = Math.round(x * pow10) / pow10;\n    }\n    this.lists.push({\n        id: id,\n        x: x,\n        y: \"bottom\",\n        pos: 'bottom',\n        contents: String(x)\n    });\n};\n\n// add small tool-tip to y-axis\nTooltip.prototype.addToYAxis = function(id, y, round) {\n    if (arguments.length > 2) {\n        var pow10 = Math.pow(10, round);\n        y = Math.round(y * pow10) / pow10;\n    }\n    this.lists.push({\n        id: id,\n        x: \"left\",\n        y: y,\n        pos: 'right',\n        contents: String(y)\n    });\n};\n\n// remove all exsistng tool-tips\nTooltip.prototype.reset = function() {\n    this.lists = [];\n    this.update();\n};\n\n// calcurate position, height and width of tool-tip, then update dom objects\nTooltip.prototype.update = function() {\n    var style = this.processData(this.lists);\n    var model = this.model.selectAll(\"g\").data(style);\n    this.updateModels(model);\n};\n\n// generate dom objects for new tool-tips, and delete old ones\nTooltip.prototype.updateModels = function(model) {\n    model.exit().remove();\n    var options = this.options;\n\n    (function(enters, options) {\n        var lineFunc = d3.svg.line()\n            .x(function(d) {\n                return d.x;\n            })\n            .y(function(d) {\n                return d.y;\n            })\n            .interpolate(\"linear\");\n\n        enters.append(\"path\")\n            .attr(\"d\", function(d) {\n                return lineFunc(d.shape);\n            })\n            .attr(\"stroke\", options.stroke_color)\n            .attr(\"fill\", options.bg_color);\n        //.atrr(\"stroke-width\", options.stroke_width)\n\n        enters.each(function() {\n            var dom;\n            if (_.isArray(this.__data__.text)) {\n                var texts = this.__data__.text;\n                var x = this.__data__.text_x;\n                var y = this.__data__.text_y;\n                var data = _.map(_.zip(texts, y), function(row) {\n                    return {\n                        text: row[0],\n                        y: row[1]\n                    };\n                });\n                dom = d3.select(this)\n                    .append(\"g\")\n                    .selectAll(\"text\")\n                    .data(data)\n                    .enter()\n                    .append(\"text\")\n                    .text(function(d) {\n                        return d.text;\n                    })\n                    .attr(\"x\", function(d) {\n                        return x;\n                    })\n                    .attr(\"y\", function(d) {\n                        return d.y;\n                    });\n            } else {\n                dom = d3.select(this).append(\"text\")\n                    .text(function(d) {\n                        return d.text;\n                    })\n                    .attr(\"x\", function(d) {\n                        return d.text_x;\n                    })\n                    .attr(\"y\", function(d) {\n                        return d.text_y;\n                    });\n            }\n            dom.attr(\"text-anchor\", \"middle\")\n                .attr(\"fill\", \"#ffffff\")\n                .attr(\"font-size\", options.font_size)\n                .style(\"font-family\", options.font);\n\n            // Fix for chrome's Issue 143990\n            // https://code.google.com/p/chromium/issues/detail?colspec=ID20Pri20Feature20Status20Modified20Mstone%20OS&sort=-modified&id=143990\n            switch (ua()) {\n                case 'chrome':\n                    dom.attr(\"dominant-baseline\", \"middle\").attr(\"baseline-shift\", \"50%\");\n                    break;\n                default:\n                    dom.attr(\"dominant-baseline\", \"text-after-edge\");\n                    break;\n            }\n        });\n\n        enters.attr(\"transform\", function(d) {\n            return \"translate(\" + d.tip_x + \",\" + d.tip_y + \")\";\n        });\n\n    })(model.enter().append(\"g\"), this.options);\n};\n\n// calcurate height and width that are necessary for rendering the tool-tip\nTooltip.prototype.processData = function(lists) {\n    var options = this.options;\n\n    // calcurate shape and center point of tool-tip\n    var calcPoints = function(pos, width, height) {\n        var arr_w = options.arrow_width;\n        var arr_h = options.arrow_height;\n        var tt_w = width;\n        var tt_h = height;\n        var points = {\n            'top': [{\n                x: 0,\n                y: 0\n            }, {\n                x: arr_w / 2,\n                y: -arr_h\n            }, {\n                x: tt_w / 2,\n                y: -arr_h\n            }, {\n                x: tt_w / 2,\n                y: -arr_h - tt_h\n            }, {\n                x: -tt_w / 2,\n                y: -arr_h - tt_h\n            }, {\n                x: -tt_w / 2,\n                y: -arr_h\n            }, {\n                x: -arr_w / 2,\n                y: -arr_h\n            }, {\n                x: 0,\n                y: 0\n            }],\n            'right': [{\n                x: 0,\n                y: 0\n            }, {\n                x: -arr_w,\n                y: -arr_h / 2\n            }, {\n                x: -arr_w,\n                y: -tt_h / 2\n            }, {\n                x: -arr_w - tt_w,\n                y: -tt_h / 2\n            }, {\n                x: -arr_w - tt_w,\n                y: tt_h / 2\n            }, {\n                x: -arr_w,\n                y: tt_h / 2\n            }, {\n                x: -arr_w,\n                y: arr_h / 2\n            }, {\n                x: 0,\n                y: 0\n            }]\n        };\n        points['bottom'] = _.map(points['top'], function(p) {\n            return {\n                x: p.x,\n                y: -p.y\n            };\n        });\n        points['left'] = _.map(points['right'], function(p) {\n            return {\n                x: -p.x,\n                y: p.y\n            };\n        });\n\n        var center = (function(p) {\n            var result = {};\n            switch (pos) {\n                case 'top':\n                case 'bottom':\n                    result = {\n                        x: 0,\n                        y: (p[2].y + p[3].y) / 2\n                    };\n                    break;\n                case 'right':\n                case 'left':\n                    result = {\n                        x: (p[2].x + p[3].x) / 2,\n                        y: 0\n                    };\n                    break;\n            }\n            return result;\n        })(points[pos]);\n\n        return {\n            shape: points[pos],\n            text: center\n        };\n    };\n\n    var margin = this.options.tooltip_margin;\n    var context_height = this.options.context_height;\n    var scales = this.scales;\n    var model = this.model;\n\n    var calcText = function(text, size) {\n        var dom = model.append(\"text\").text(text).attr(\"font-size\", size).style(\"font-family\", options.font);\n        var text_width = dom[0][0].getBBox().width;\n        var text_height = dom[0][0].getBBox().height;\n        dom.remove();\n        return {\n            w: text_width,\n            h: text_height\n        };\n    };\n\n    return _.map(lists, function(list) {\n        var text_num = (_.isArray(list.contents) ? list.contents.length : 1);\n        var str = (_.isArray(list.contents) ? _.max(list.contents, function(d) {\n            return d.length;\n        }) : list.contents);\n\n        var text_size = calcText(str, options.font_size);\n        var tip_width = text_size.w + margin.left + margin.right;\n        var tip_height = (text_size.h + margin.top + margin.bottom) * text_num;\n\n        var point = scales.get(list.x, list.y);\n        var tip_x = (list.x == \"left\" ? 0 : point.x);\n        var tip_y = (list.y == \"bottom\" ? context_height : point.y);\n\n        var points = calcPoints(list.pos, tip_width, tip_height);\n\n        var text_y;\n        if (_.isArray(list.contents)) {\n            var len = list.contents.length;\n            text_y = _.map(list.contents, function(str, i) {\n                return (points.text.y - text_size.h / 2 * (len - 2)) + text_size.h * i;\n            });\n        } else {\n            text_y = points.text.y + text_size.h / 2;\n        }\n\n        return {\n            shape: points.shape,\n            tip_x: tip_x,\n            tip_y: tip_y,\n            text_x: points.text.x,\n            text_y: text_y,\n            text: list.contents\n        };\n    });\n};\n\nexport default Tooltip;\n","/*\n * Pane:\n *\n * Pane keeps dom objects which diagrams, filter, and legend will be placed on. Pane will tell each diagram, axis, and scale to update.\n * It also calcurate scales and each diagram and axis will be rendered according to the scales.\n *\n * options (summary) :\n *    rotate_x_label      -> (Float) : rotate labels placed on x-axis (radian)\n *    zoom                -> (Bool)  : Decide whether to allow zooming and pan\n *    grid                -> (Bool)  : Decide whether to draw grid line on pane.\n *    legend_position     -> (Object): String like 'right', 'left', 'top' and 'bottom', or Array like [0, 19] are allowed. The latter is coordinates in the plotting area.\n *    scale:              -> (String): The type of axis. 'linear', 'log' and 'power' are allowed.\n *    scale_extra_options -> (Object): extra options for extension which has different coordinates system except x-y.\n *    axis_extra_options  -> (Object): extra options for extension.\n */\n\nimport _ from 'underscore';\nimport uuid from 'node-uuid';\nimport diagrams from './diagrams/diagrams';\nimport Filter from './components/filter';\nimport LegendArea from './components/legend_area';\nimport Tooltip from './components/tooltip';\n\nfunction Pane(parent, scale, Axis, _options) {\n    var options = {\n        width: 700,\n        height: 500,\n        margin: {\n            top: 30,\n            bottom: 80,\n            left: 80,\n            right: 30\n        },\n        xrange: [0, 0],\n        yrange: [0, 0],\n        x_label: 'X',\n        y_label: 'Y',\n        rotate_x_label: 0,\n        rotate_y_label: 0,\n        zoom: false,\n        grid: true,\n        zoom_range: [0.5, 5],\n        bg_color: '#eee',\n        grid_color: '#fff',\n        legend: false,\n        legend_position: 'right',\n        legend_width: 150,\n        legend_height: 300,\n        legend_stroke_color: '#000',\n        legend_stroke_width: 0,\n        font: \"Helvetica, Arial, sans-serif\",\n        x_scale: 'linear',\n        y_scale: 'linear',\n        scale_extra_options: {},\n        axis_extra_options: {}\n    };\n    if (arguments.length > 1) _.extend(options, _options);\n\n    this.uuid = uuid.v4();\n\n    var model = parent.append(\"svg\")\n        .attr(\"width\", options.width)\n        .attr(\"height\", options.height);\n\n    var areas = (function() {\n        var areas = {};\n        areas.plot_x = options.margin.left;\n        areas.plot_y = options.margin.top;\n        areas.plot_width = options.width - options.margin.left - options.margin.right;\n        areas.plot_height = options.height - options.margin.top - options.margin.bottom;\n\n        if (options.legend) {\n            switch (options.legend_position) {\n                case 'top':\n                    areas.plot_width -= options.legend_width;\n                    areas.plot_y += options.legend_height;\n                    areas.legend_x = (options.width - options.legend_width) / 2;\n                    areas.legend_y = options.margin.top;\n                    break;\n\n                case 'bottom':\n                    areas.plot_height -= options.legend_height;\n                    areas.legend_x = (options.width - options.legend_width) / 2;\n                    areas.legend_y = options.margin.top + options.height;\n                    break;\n\n                case 'left':\n                    areas.plot_x += options.legend_width;\n                    areas.plot_width -= options.legend_width;\n                    areas.legend_x = options.margin.left;\n                    areas.legend_y = options.margin.top;\n                    break;\n\n                case 'right':\n                    areas.plot_width -= options.legend_width;\n                    areas.legend_x = areas.plot_width + options.margin.left;\n                    areas.legend_y = options.margin.top;\n                    break;\n\n                case _.isArray(options.legend_position):\n                    areas.legend_x = options.width * options.legend_position[0];\n                    areas.legend_y = options.height * options.legend_position[1];\n                    break;\n            }\n        }\n        return areas;\n    })();\n\n    var scales = (function() {\n        var domains = {\n            x: options.xrange,\n            y: options.yrange\n        };\n        var ranges = {\n            x: [0, areas.plot_width],\n            y: [areas.plot_height, 0]\n        };\n        return new scale(domains, ranges, {\n            x: options.x_scale,\n            y: options.y_scale,\n            extra: options.scale_extra_options\n        });\n    })();\n\n    // add background\n    model.append(\"g\")\n        .attr(\"transform\", \"translate(\" + areas.plot_x + \",\" + areas.plot_y + \")\")\n        .append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"width\", areas.plot_width)\n        .attr(\"height\", areas.plot_height)\n        .attr(\"fill\", options.bg_color)\n        .style(\"z-index\", 1);\n\n    var axis = new Axis(model.select(\"g\"), scales, {\n        width: areas.plot_width,\n        height: areas.plot_height,\n        margin: options.margin,\n        grid: options.grid,\n        zoom: options.zoom,\n        zoom_range: options.zoom_range,\n        x_label: options.x_label,\n        y_label: options.y_label,\n        rotate_x_label: options.rotate_x_label,\n        rotate_y_label: options.rotate_y_label,\n        stroke_color: options.grid_color,\n        pane_uuid: this.uuid,\n        z_index: 100,\n        extra: options.axis_extra_options\n    });\n\n    // add context\n    model.select(\"g\")\n        .append(\"g\")\n        .attr(\"class\", \"context\")\n        .append(\"clipPath\")\n        .attr(\"id\", this.uuid + \"clip_context\")\n        .append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"width\", areas.plot_width)\n        .attr(\"height\", areas.plot_height);\n\n    model.select(\".context\")\n        .attr(\"clip-path\", \"url(#\" + this.uuid + 'clip_context' + \")\");\n\n    model.select(\"g\")\n        .append(\"rect\")\n        .attr(\"x\", -1)\n        .attr(\"y\", -1)\n        .attr(\"width\", areas.plot_width + 2)\n        .attr(\"height\", areas.plot_height + 2)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#666\")\n        .attr(\"stroke-width\", 1)\n        .style(\"z-index\", 200);\n\n    // add tooltip\n    var tooltip = new Tooltip(model.select(\"g\"), scales, {\n        font: options.font,\n        context_width: areas.plot_width,\n        context_height: areas.plot_height,\n        context_margin: {\n            top: areas.plot_x,\n            left: areas.plot_y,\n            bottom: options.margin.bottom,\n            right: options.margin.right\n        }\n    });\n\n    // add legend\n    if (options.legend) {\n        model.append(\"g\")\n            .attr(\"class\", \"legend_area\")\n            .attr(\"transform\", \"translate(\" + areas.legend_x + \",\" + areas.legend_y + \")\");\n\n        this.legend_area = new LegendArea(model.select(\".legend_area\"), {\n            width: options.legend_width,\n            height: options.legend_height,\n            stroke_color: options.legend_stroke_color,\n            stroke_width: options.legend_stroke_width\n        });\n    }\n\n    this.diagrams = [];\n    this.tooltip = tooltip;\n    this.context = model.select(\".context\").append(\"g\").attr(\"class\", \"context_child\");\n    this.model = model;\n    this.scales = scales;\n    this.options = options;\n    this.filter = null;\n    return this;\n}\n\n// Add diagram to pane\nPane.prototype.addDiagram = function(type, data, options) {\n    _.extend(options, {\n        uuid: uuid.v4(),\n        tooltip: this.tooltip\n    });\n\n    var diagram = new diagrams[type](this.context, this.scales, data, options);\n\n    if (this.options.legend) {\n        var legend_area = this.legend_area;\n        var legend = diagram.getLegend();\n        if (_.isArray(legend)) _.each(legend, function(l) {\n            legend_area.add(l);\n        });\n        else this.legend_area.add(legend);\n    }\n\n    this.diagrams.push(diagram);\n};\n\n// Add filter to pane (usually a gray box on the pane)\nPane.prototype.addFilter = function(target, options) {\n    var diagrams = this.diagrams;\n    var callback = function(ranges) {\n        _.each(diagrams, function(diagram) {\n            diagram.checkSelectedData(ranges);\n        });\n    };\n    this.filter = new Filter(this.context, this.scales, callback, options);\n};\n\n// Update all diagrams belong to the pane\nPane.prototype.update = function() {\n    var font = this.options.font;\n    _.each(this.diagrams, function(diagram) {\n        diagram.update();\n    });\n\n    this.model.selectAll(\"text\")\n        .style(\"font-family\", font);\n};\n\nexport default Pane;\n","/*\n * Axis:\n *\n * Axis generates x and y axies for plot. It also controlls grids.\n * Have a look at documents on d3.svg.axis and d3.behavior.zoom to learn more.\n *\n * options (summary) :\n *    width     -> (Float) : Width of *context area*.\n *    height    -> (Float) : Height of *context area*.\n *    margin    -> (Object): Margin outside of context area. used when adding axis labels.\n *    pane_uuid -> (Float) : Given by pane itself. used to tell update information to Manager.\n *    z_index   -> (Float) : Given by pane. Usually axis are placed below context and over backgroupd.\n */\n\nimport _ from 'underscore';\nimport Manager from '../../core/manager';\n\nfunction Axis(parent, scales, _options) {\n    var options = {\n        width: 0,\n        height: 0,\n        margin: {\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0\n        },\n        stroke_color: \"#fff\",\n        stroke_width: 1.0,\n        x_label: 'X',\n        y_label: 'Y',\n        grid: true,\n        zoom: false,\n        zoom_range: [0.5, 5],\n        rotate_x_label: 0,\n        rotate_y_label: 0,\n        pane_uuid: null,\n        z_index: 0\n    };\n    if (arguments.length > 2) _.extend(options, _options);\n\n    var xAxis = d3.svg.axis()\n        .scale(scales.raw.x)\n        .orient(\"bottom\");\n\n    var yAxis = d3.svg.axis()\n        .scale(scales.raw.y)\n        .orient(\"left\");\n\n    parent.append(\"g\")\n        .attr(\"class\", \"x_axis\");\n\n    parent.append(\"g\")\n        .attr(\"class\", \"y_axis\");\n\n    parent.append(\"text\")\n        .attr(\"x\", options.width / 2)\n        .attr(\"y\", options.height + options.margin.bottom / 1.5)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"fill\", \"rgb(50,50,50)\")\n        .attr(\"font-size\", 22)\n        .text(options.x_label);\n\n    parent.append(\"text\")\n        .attr(\"x\", -options.margin.left / 1.5)\n        .attr(\"y\", options.height / 2)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"fill\", \"rgb(50,50,50)\")\n        .attr(\"font-size\", 22)\n        .attr(\"transform\", \"rotate(-90,\" + -options.margin.left / 1.5 + ',' + options.height / 2 + \")\")\n        .text(options.y_label);\n\n    var update = function() {\n        parent.select(\".x_axis\").call(xAxis);\n        parent.select(\".y_axis\").call(yAxis);\n\n        parent.selectAll(\".x_axis, .y_axis\")\n            .selectAll(\"path, line\")\n            .style(\"z-index\", options.z_index)\n            .style(\"fill\", \"none\")\n            .style(\"stroke\", options.stroke_color)\n            .style(\"stroke-width\", options.stroke_width);\n\n        parent.selectAll(\".x_axis, .y_axis\")\n            .selectAll(\"text\")\n            .attr(\"fill\", \"rgb(50,50,50)\");\n\n        parent.selectAll(\".x_axis\")\n            .attr(\"transform\", \"translate(0,\" + (options.height + 4) + \")\");\n\n        parent.selectAll(\".y_axis\")\n            .attr(\"transform\", \"translate(-4,0)\");\n\n        if (options.rotate_x_label != 0) {\n            parent.selectAll(\".x_axis\")\n                .selectAll(\"text\")\n                .style(\"text-anchor\", \"end\")\n                .attr(\"transform\", function(d) {\n                    return \"rotate(\" + options.rotate_x_label + \")\";\n                });\n        }\n\n        if (options.rotate_y_label != 0) {\n            parent.selectAll(\".y_axis\")\n                .selectAll(\"text\")\n                .style(\"text-anchor\", \"end\")\n                .attr(\"transform\", function(d) {\n                    return \"rotate(\" + options.rotate_y_label + \")\";\n                });\n        }\n\n        Manager.update(options.pane_uuid);\n    };\n\n    if (options.grid) {\n        xAxis.tickSize((-1) * options.height);\n        yAxis.tickSize((-1) * options.width);\n    }\n\n    if (options.zoom) {\n        var zoom = d3.behavior.zoom()\n            .x(scales.raw.x)\n            .y(scales.raw.y)\n            .scaleExtent(options.zoom_range)\n            .on(\"zoom\", update);\n        parent.call(zoom);\n        parent.on(\"dblclick.zoom\", null);\n    }\n\n    update();\n\n    this.model = parent;\n    return this;\n}\n\nexport default Axis;\n","/*\n * Scales: The wrapper for d3.scales\n *\n * Scales for x-y coordinates system. Other types of scales are implemented by extension system like Bionya and Mapnya.\n * If you are interested in writing extension for Nyaplot, see the code of extensions.\n * This module is implemented using d3.scales.ordinal and d3.scales.linear. See the document of d3.js to learn more about scales: \n *    - https://github.com/mbostock/d3/wiki/Ordinal-Scales\n *    - https://github.com/mbostock/d3/wiki/Quantitative-Scales\n * \n * options:\n *     linear -> String: The type of linear scale. 'linear', 'power', and 'log' are allowed.\n */\n\nimport _ from 'underscore';\n\nfunction Scales(domains, ranges, _options) {\n    var options = {\n        x: 'linear',\n        y: 'linear'\n    };\n    if (arguments.length > 1) _.extend(options, _options);\n\n    var scales = {};\n    _.each(['x', 'y'], function(label) {\n        if (_.some(domains[label], function(val) {\n                return _.isString(val);\n            })) {\n            scales[label] = d3.scale.ordinal()\n                .domain(domains[label])\n                .rangeBands(ranges[label]);\n        } else {\n            var scale = (d3.scale[options[label]])();\n            scales[label] = scale\n                .domain(domains[label])\n                .range(ranges[label]);\n        }\n    });\n    this.scales = scales;\n    this.raw = scales;\n    return this;\n}\n\n// convert from data points to svg dom coordiantes like: ['nya', 'hoge'] -> {x: 23, y:56}]\nScales.prototype.get = function(x, y) {\n    return {\n        x: this.scales.x(x),\n        y: this.scales.y(y)\n    };\n};\n\n// domain: the word unique to d3.js. See the website of d3.js.\nScales.prototype.domain = function() {\n    return {\n        x: this.scales.x.domain(),\n        y: this.scales.y.domain()\n    };\n};\n\n// range: the word unique to d3.js. See the website of d3.js.\nScales.prototype.range = function() {\n    return {\n        x: this.scales.x.range(),\n        y: this.scales.y.range()\n    };\n};\n\nexport default Scales;\n","/*\n * STL:\n *\n * Standard library for Nyaplot\n */\n\nimport Pane from '../view/pane';\nimport Axis from '../view/components/axis';\nimport Scales from '../view/components/scale';\n\nvar STL = {};\nSTL.pane = Pane;\nSTL.axis = Axis;\nSTL.scale = Scales;\n\nexport default STL;\n","/*\n * Extension:\n *\n * Extension keeps information about extensions for Nyaplot.\n *\n */\n\nimport _ from 'underscore';\nimport STL from './stl';\nimport diagrams from '../view/diagrams/diagrams';\nvar Extension = {};\nvar buffer = {};\n\n// load extension\nExtension.load = function(extension_name) {\n    if (typeof window[extension_name] == \"undefined\") return;\n    if (typeof window[extension_name]['Nya'] == \"undefined\") return;\n\n    var ext_info = window[extension_name].Nya;\n\n    _.each(['pane', 'scale', 'axis'], function(component) {\n        if (typeof ext_info[component] == \"undefined\")\n            ext_info[component] = STL[component];\n    });\n\n    if (typeof ext_info['diagrams'] != \"undefined\") {\n        _.each(ext_info['diagrams'], function(content, name) {\n            diagrams.add(name, content);\n        });\n    }\n\n    buffer[extension_name] = ext_info;\n};\n\nExtension.get = function(name) {\n    return buffer[name];\n};\n\nexport default Extension;\n","/*\n * Dataframe:\n *\n * Dataframe loads (JSON) data or through a URI and allows\n * a plot to query that data\n */\n\nimport _ from 'underscore';\n\nfunction Dataframe(name, data) {\n    // load data from a String containing a URL or\n    // use the (raw) data\n    if (data instanceof String && /url(.+)/g.test(data)) {\n        var url = data.match(/url\\((.+)\\)/)[1];\n        var df = this;\n        d3.json(url, function(error, json) {\n            df.raw = JSON.parse(json);\n        });\n        this.raw = {};\n    } else this.raw = data;\n\n    // detect the nested column (that should be only one)\n    var header = _.keys(data[0]);\n    var rows = _.zip.apply(this, _.map(data, function(row, i) {\n        return _.toArray(row);\n    }));\n    var nested = _.filter(rows, function(column) {\n        return _.all(column, function(val) {\n            return _.isArray(val);\n        });\n    });\n    if (nested.length == 1) {\n        this.nested = header[rows.indexOf(nested[0])];\n    } else this.nested = false;\n\n    this.filters = {};\n    return this;\n}\n\n// Get a row by index\nDataframe.prototype.row = function(row_num) {\n    return this.raw[row_num];\n};\n\n// Get a column by label\nDataframe.prototype.column = function(label) {\n    var arr = [];\n    var raw = this.raw;\n    _.each(raw, function(row) {\n        arr.push(row[label]);\n    });\n    return arr;\n};\n\n// Get a scale\nDataframe.prototype.scale = function(column_name, range) {\n    if (this.isContinuous(column_name)) {\n        var domain = this.columnRange(column_name);\n        domain = _.range(domain.min, domain.max + 1, (domain.max - domain.min) / (range.length - 1));\n        return d3.scale.linear().domain(domain).range(range);\n    } else {\n        return d3.scale.ordinal().domain(_.uniq(this.column(column_name))).range(range);\n    };\n};\n\n// Check if the specified column consists of continuous data\nDataframe.prototype.isContinuous = function(column_name) {\n    return _.every(this.column(column_name), function(val) {\n        return _.isNumber(val);\n    });\n};\n\n// Add a filter function to the list\nDataframe.prototype.addFilter = function(self_uuid, func, excepts) {\n    this.filters[self_uuid] = {\n        func: func,\n        excepts: excepts\n    };\n};\n\n// Iterate a column using filters\nDataframe.prototype.columnWithFilters = function(self_uuid, label) {\n    var raw = this.raw.concat();\n    _.each(this.filters, function(filter, uuid) {\n        if (filter.excepts.indexOf('self') != -1 && uuid == self_uuid) return;\n        if (!(self_uuid in filter.excepts))\n            raw = _.filter(raw, filter.func);\n    });\n    return _.map(raw, function(row) {\n        return row[label];\n    });\n};\n\n// Fetch a value using column label and row number\nDataframe.prototype.pickUpCells = function(label, row_nums) {\n    var column = this.column(label);\n    return _.map(row_nums, function(i) {\n        return column[i];\n    });\n};\n\n// Fetch partical dataframe as the format like [{a:1, b:2, c:3}, ...,{a:1, b:2, c:3}] using column names\nDataframe.prototype.getPartialDf = function(column_names) {\n    return _.map(this.raw, function(row) {\n        return _.reduce(column_names, function(memo, name) {\n            memo[name] = row[name];\n            return memo;\n        }, {});\n    });\n};\n\n// experimental implementation of accessor to nested dataframe.\nDataframe.prototype.nested_column = function(row_num, name) {\n    if (!this.nested) throw \"Recieved dataframe is not nested.\";\n    var df = new Dataframe('', this.row(row_num)[this.nested]);\n    return df.column(name);\n};\n\n// return the range of values in specified column\nDataframe.prototype.columnRange = function(label) {\n    var column = this.column(label);\n    return {\n        max: d3.max(column, function(val) {\n            return val;\n        }),\n        min: d3.min(column, function(val) {\n            return val;\n        })\n    };\n};\n\nexport default Dataframe;\n","/*\n * parse:\n *\n * parse JSON model and generate plots based on the order.\n *\n */\n\nimport _ from 'underscore';\nimport Manager from './manager';\nimport Extension from './extension';\nimport STL from './stl';\nimport Dataframe from '../utils/dataframe';\n\nfunction parse(model, element_name) {\n    var element = d3.select(element_name);\n\n    if (typeof model['extension'] !== \"undefined\") {\n        if (_.isArray(model['extension'])) {\n            _.each(model['extension'], function(ex) {\n                Extension.load(ex);\n            });\n        } else {\n            Extension.load(model['extension']);\n        }\n    }\n\n    parse_model(model, element);\n}\n\nfunction parse_model(model, element) {\n    _.each(model.data, function(value, name) {\n        Manager.addData(name, new Dataframe(name, value));\n    });\n\n    _.each(model.panes, function(pane_model) {\n        var pane;\n\n        var pane_proto, axis, scale;\n        if (typeof pane_model['extension'] !== \"undefined\") {\n            var ext = Extension.get(pane_model['extension']);\n            pane_proto = ext.pane;\n            axis = ext.axis;\n            scale = ext.scale;\n        } else {\n            pane_proto = STL.pane;\n            axis = STL.axis;\n            scale = STL.scale;\n        }\n        pane = new pane_proto(element, scale, axis, pane_model.options);\n\n        var data_list = [];\n        _.each(pane_model.diagrams, function(diagram) {\n            pane.addDiagram(diagram.type, diagram.data, diagram.options || {});\n            data_list.push(diagram.data);\n        });\n\n        if (pane_model['filter'] !== undefined) {\n            var filter = pane_model.filter;\n            pane.addFilter(filter.type, filter.options || {});\n        }\n\n        Manager.addPane({\n            pane: pane,\n            data: data_list,\n            uuid: pane.uuid\n        });\n        Manager.update(pane.uuid);\n    });\n};\n\nexport default parse;\n","import parse from './core/parse';\nimport stl from './core/stl';\nimport Manager from './core/manager';\nimport underscore from 'underscore';\nimport uuid from 'node-uuid';\n\nvar Nyaplot = {};\n\nNyaplot.core = {};\nNyaplot.core.parse = parse;\n\nNyaplot.STL = stl;\nNyaplot.Manager = Manager;\nNyaplot.uuid = uuid;\nNyaplot._ = underscore;\n\nexport default Nyaplot;\n"],"names":["Venn","Multiple_venn","Heatmap","stl","underscore"],"mappings":"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"}